<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Âê¨ÊàëÂêπÈÄº‰πãRedux Ê∫êÁ†ÅËß£ËØª]]></title>
    <url>%2F2018%2F12%2F02%2FRedux%20%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%2F</url>
    <content type="text"><![CDATA[&emsp;&emsp;Redux ÊòØ JavaScript Áä∂ÊÄÅÂÆπÂô®ÔºåÊèê‰æõÂèØÈ¢ÑÊµãÂåñÁöÑÁä∂ÊÄÅÁÆ°ÁêÜ„ÄÇ‰∏ç‰ªÖÂèØ‰ª•ËÆ©‰Ω†ÊûÑÂª∫‰∏ÄËá¥ÂåñÁöÑÂ∫îÁî®ÔºåËøòÊèê‰æõË∂ÖÁàΩÁöÑÂºÄÂèë‰ΩìÈ™åÔºåÊØîÂ¶ÇÊúâ‰∏Ä‰∏™Êó∂Èó¥ÊóÖË°åË∞ÉËØïÂô®ÂèØ‰ª•ÁºñËæëÂêéÂÆûÊó∂È¢ÑËßà„ÄÇRedux Áî± Flux ÊºîÂèòËÄåÊù•Ôºå‰ΩÜÂèó Elm ÁöÑÂêØÂèëÔºåÈÅøÂºÄ‰∫Ü Flux ÁöÑÂ§çÊùÇÊÄß„ÄÇ ‰∏çÁÆ°‰Ω†ÊúâÊ≤°Êúâ‰ΩøÁî®ËøáÂÆÉ‰ª¨ÔºåÂè™ÈúÄÂá†ÂàÜÈíüÂ∞±ËÉΩ‰∏äÊâã Redux„ÄÇ&emsp;&emsp;‰ΩÜÊòØÂ∞±ÊòØËøô‰πà‰∏™Áé©ÊÑèÔºåÊ∫ê‰ª£Á†ÅÁ´üÁÑ∂Âè™ÊúâÁü≠Áü≠600Ë°åÔºå‰ªäÂ§©Â∞±Â∏¶‰Ω†‰∏ÄÂ±Ç‰∏ÄÂ±ÇË§™ÂéªÂ•πÁöÑË°£Áâ©ÔºåÊª°Ë∂≥‰Ω†ÊúÄÂéüÂßãÁöÑÂÜ≤Âä®„ÄÇÁ≥ªÂ•ΩÂÆâÂÖ®Â∏¶ÔºåËÄÅÂè∏Êú∫Ë¶ÅÂèëËΩ¶‰∫ÜÔºÅÔºÅÔºÅ ÂÖ•Âè£Êñá‰ª∂Ëß£ËØª&emsp;&emsp;ÁúãÊ∫êÁ†ÅÊúÄÁÆÄÂçïÁöÑÊñπÂºèÔºåÂ∞±ÊòØ‰ªéÂÖ•Âè£Êñá‰ª∂Êù•ÁúãÔºåÁúãÂÆÉ‰æùËµñÂì™‰∫õÊ®°ÂùóÔºåÁÑ∂ÂêéÂú®‰æùÊ¨°ÁúãËøô‰∫õÊ®°ÂùóÁöÑÂÜÖÂÆπÔºåÊúÄÂêé‰πüÂ∞±ÂØπÊï¥‰∏™‰ª£Á†ÅÊúâ‰∏™Ê∏ÖÊô∞ÁöÑËÆ§ËØÜ‰∫Ü„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637import createStore from './createStore'import combineReducers from './combineReducers'import bindActionCreators from './bindActionCreators'import applyMiddleware from './applyMiddleware'import compose from './compose'import warning from './utils/warning'import __DO_NOT_USE__ActionTypes from './utils/actionTypes'/* * This is a dummy function to check if the function name has been altered by minification. * If the function has been minified and NODE_ENV !== 'production', warn the user. */// Â∞±ÊòØÊ†πÊçÆ isCrushed ÊòØÂê¶Ë¢´ÂéãÁº©‰∫ÜÔºåÊù•Ë≠¶ÂëäÂºÄÂèëËÄÖÊ≠£Âú®ÈùûÁîü‰∫ßÁéØÂ¢É‰ΩøÁî®‰∏Ä‰∏™ÂéãÁº©ËøáÁöÑ‰ª£Á†Å„ÄÇfunction isCrushed() &#123;&#125;if ( process.env.NODE_ENV !== 'production' &amp;&amp; typeof isCrushed.name === 'string' &amp;&amp; isCrushed.name !== 'isCrushed') &#123; warning( 'You are currently using minified code outside of NODE_ENV === "production". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.' )&#125;export &#123; createStore, combineReducers, bindActionCreators, applyMiddleware, compose, __DO_NOT_USE__ActionTypes&#125; ÂæàÊòéÊòæËøô‰∏™ÂÖ•Âè£Êñá‰ª∂Â∞±ÊòØÂ∞ÜËøô‰∫õÊ®°ÂùóÂºïÂÖ•ÂêéÁÑ∂ÂêéÁõ¥Êé•Êö¥Èú≤Âá∫Âéª„ÄÇÊï¥‰∏™ReduxÂ∞±ÊòØ‰æùËµñËøô‰∫õÊ®°ÂùóÔºåÂÖ∂‰∏≠Âá†‰∏™‰πüÊòØËÄÅÈù¢Â≠î‰∫Ü„ÄÇ createStore combineReducers bindActionCreators applyMiddleware compose warning createStoreËøô‰∏™Ê®°ÂùóÊØèÊ¨°ÈÉΩÂú®‰ΩøÁî®ÔºåÁî®Êù•ÂàõÂª∫Êï¥‰∏™Â∫îÁî®ÁöÑstore„ÄÇ import { createStore } from ‚Äòredux‚Äôlet store = createStore(reducers) Ëøô‰∏™Ê®°Âùó‰æùËµñÁöÑÈÉΩÊòØ‰∏Ä‰∫õÂ∑•ÂÖ∑ÂáΩÊï∞12import ActionTypes from './utils/actionTypes'import isPlainObject from './utils/isPlainObject' ActionTypesÁöÑÊ∫êÁ†Å‰∏ªË¶ÅÁîüÊàê‰∏Ä‰∏™ÈöèÊú∫Â≠óÁ¨¶‰∏≤ÔºåÁî®Êù•ÂàùÂßãÂåñÊØè‰∏™reducerÁöÑÂëΩÂêç1234567891011121314const randomString = () =&gt; Math.random() .toString(36) .substring(7) .split('') .join('.')const ActionTypes = &#123; INIT: `@@redux/INIT$&#123;randomString()&#125;`, REPLACE: `@@redux/REPLACE$&#123;randomString()&#125;`, PROBE_UNKNOWN_ACTION: () =&gt; `@@redux/PROBE_UNKNOWN_ACTION$&#123;randomString()&#125;`&#125;export default ActionTypes isPlainObjectÁöÑÊ∫êÁ†Å‰∏ªË¶ÅÁî®Êù•Âà§Êñ≠ÊòØÂê¶‰∏∫‰∏Ä‰∏™Â≠óÈù¢ÈáèÁöÑÂØπË±°ÔºåÁî®Êù•Âà§Êñ≠stateÊòØÂê¶ÊúâÊïà„ÄÇ12345678910export default function isPlainObject(obj) &#123; if (typeof obj !== 'object' || obj === null) return false let proto = obj while (Object.getPrototypeOf(proto) !== null) &#123; proto = Object.getPrototypeOf(proto) &#125; return Object.getPrototypeOf(obj) === proto&#125; createStoreÁöÑÊ∫êÁ†Å‰∏ªË¶ÅÂÆûÁé∞‰∫Ü5‰∏™ÊñπÊ≥ï 12345678910111213141516171819202122232425262728293031323334353637383940export default function createStore(reducer, preloadedState, enhancer) &#123; if ( (typeof preloadedState === 'function' &amp;&amp; typeof enhancer === 'function') || (typeof enhancer === 'function' &amp;&amp; typeof arguments[3] === 'function') ) &#123; throw new Error( 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function' ) &#125; if (typeof preloadedState === 'function' &amp;&amp; typeof enhancer === 'undefined') &#123; enhancer = preloadedState preloadedState = undefined &#125; if (typeof enhancer !== 'undefined') &#123; if (typeof enhancer !== 'function') &#123; throw new Error('Expected the enhancer to be a function.') &#125; return enhancer(createStore)(reducer, preloadedState) &#125; if (typeof reducer !== 'function') &#123; throw new Error('Expected the reducer to be a function.') &#125; //somethings return &#123; dispatch, subscribe, getState, replaceReducer, [$$observable]: observable &#125;&#125; ÂèÇÊï∞Ôºö reducerÔºö reducerÂøÖÈ°ªÊòØ‰∏Ä‰∏™functionÁ±ªÂûãÔºåÊ≠§ÊñπÊ≥ïÊ†πÊçÆaction.typeÊõ¥Êñ∞state preloadedStateÔºö store treeÂàùÂßãÂÄº enhancerÔºö enhancerÈÄöËøáÊ∑ªÂä†middlewareÔºåÂ¢ûÂº∫storeÂäüËÉΩ ÂÆûÁé∞ÊñπÊ≥ï dispatchÔºöÂàÜÂèëaction subscribeÔºöÊ≥®ÂÜålistenerÔºåÁõëÂê¨stateÂèòÂåñ getStateÔºöËØªÂèñstore tree‰∏≠ÊâÄÊúâstate replaceReucerÔºöÊõøÊç¢reducerÔºåÊîπÂèòstateÊõ¥Êñ∞ÈÄªËæë [$$observable] ËÆ©ÂèòÈáèÂèØËßÇÂØü„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÁî®‰∏çÂà∞ÔºåÁî®Âà∞‰∫ÜÊàë‰πü‰∏çËÉåÈîÖÂì¶ Á¨¨‰∏Ä‰∏™ if ËØ≠Âè•ÁöÑÊÑèÊÄùÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúÂè™‰º†ÂÖ•‰∫Ü‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏îÁ¨¨‰∫å‰∏™ÂèÇÊï∞ preloadedState ‰∏∫ÂáΩÊï∞ÔºåÈÇ£‰πàÂ∞±ËÆ§‰∏∫Á¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ enhancer . Á¨¨‰∫å‰∏™ if ËØ≠Âè•Á°Æ‰øù enhancer ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂπ∂‰∏îÂΩì enhancer ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•ÁöÑÊó∂ÂÄôÔºåËøîÂõû enhancer(createStore)(reucer, preloadedState) ‰Ωú‰∏∫ createStore ÁöÑËøîÂõûÔºå‰πüÂ∞±ÊòØÊàë‰ª¨Ë¶ÅÁöÑ store. Á¨¨‰∏â‰∏™ if ËØ≠Âè•Á°Æ‰øù reducer ÊòØ‰∏Ä‰∏™ÂáΩÊï∞„ÄÇ Êé•‰∏ãÊù•Ëß£ËØªÊØè‰∏™ÊñπÊ≥ïÁöÑÂÖ∑‰ΩìÂÆûÁé∞„ÄÇ getState 1234567891011function getState() &#123; if (isDispatching) &#123; throw new Error( 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.' ) &#125; return currentState &#125; Ëøô‰∏™ÂáΩÊï∞ÂèØ‰ª•Ëé∑ÂèñÂΩìÂâçÁöÑÁä∂ÊÄÅÔºåcreateStore ‰∏≠ÁöÑ currentState ÂÇ®Â≠òÂΩìÂâçÁöÑÁä∂ÊÄÅÊ†ëÔºåËøôÊòØ‰∏Ä‰∏™Èó≠ÂåÖÔºåËøô‰∏™ÂèÇÊï∞‰ºöÊåÅ‰πÖÂ≠òÂú®ÔºåÂπ∂‰∏îÊâÄÊúâÁöÑÊìç‰ΩúÁä∂ÊÄÅÈÉΩÊòØÊîπÂèòËøô‰∏™ÂºïÁî®ÔºågetState ÂáΩÊï∞ËøîÂõûÂΩìÂâçÁöÑ currentState„ÄÇÂ¶ÇÊûúÂΩìÂâçÁä∂ÊÄÅ‰∏çÂ≠òÂú®ÔºåÂèØËÉΩÊòØÊ≤°ÊúâËøîÂõûÂàùÂßãÂåñÁöÑstateÔºå‰ºöÊä•Èîô„ÄÇ subscribe 1234567891011121314151617181920212223242526272829303132333435363738function subscribe(listener) &#123; if (typeof listener !== 'function') &#123; throw new Error('Expected the listener to be a function.') &#125; if (isDispatching) &#123; throw new Error( 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.' ) &#125; let isSubscribed = true ensureCanMutateNextListeners() nextListeners.push(listener) return function unsubscribe() &#123; if (!isSubscribed) &#123; return &#125; if (isDispatching) &#123; throw new Error( 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.' ) &#125; isSubscribed = false ensureCanMutateNextListeners() const index = nextListeners.indexOf(listener) nextListeners.splice(index, 1) &#125;&#125; ËøôÈáåÊàëÁúÅÁï•‰∫Ü‰∏ÄÂ†ÜÊ≥®ÈáäÔºåÂÖ∂ÂÆûÈÇ£‰∏ÄÂ§ßÊÆµÊ≥®ÈáäÂ∑≤ÁªèËØ¥ÁöÑÂæàÊòéÊòæ‰∫ÜÔºåÊ≥®ÂÜå‰∏Ä‰∏™ listener ÁõëÂê¨ÂáΩÊï∞ÔºåÊää‰ªñ push Âà∞ÂΩìÂâçÁöÑÁõëÂê¨ÈáåÂàóË°® nextListener ÈáåÈù¢ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ unsubscribe ÊñπÊ≥ïÁî®Êù•Ê≥®ÈîÄÂΩìÂâçËøô‰∏™ÁõëÂê¨ÂáΩÊï∞„ÄÇ‰πãÂâçÁâàÊú¨ËøòÊ≤°ÊúâÊâßË°åÁöÑÊó∂ÂÄôÈîÄÊØÅ‰ºöÊä•ÈîôÔºåÁé∞Âú®Â∑≤Áªè‰øÆÊîπ‰∫Ü„ÄÇ dispatch 12345678910111213141516171819202122232425262728293031323334function dispatch(action) &#123; if (!isPlainObject(action)) &#123; throw new Error( 'Actions must be plain objects. ' + 'Use custom middleware for async actions.' ) &#125; if (typeof action.type === 'undefined') &#123; throw new Error( 'Actions may not have an undefined "type" property. ' + 'Have you misspelled a constant?' ) &#125; if (isDispatching) &#123; throw new Error('Reducers may not dispatch actions.') &#125; try &#123; isDispatching = true currentState = currentReducer(currentState, action) &#125; finally &#123; isDispatching = false &#125; const listeners = (currentListeners = nextListeners) for (let i = 0; i &lt; listeners.length; i++) &#123; const listener = listeners[i] listener() &#125; return action&#125; dispatchÁî®Êù•ÂàÜÂèë‰∏Ä‰∏™ action Êù•ÊîπÂèòÂΩìÂâçÁöÑ state . ‰πüÊòØÂîØ‰∏ÄÁöÑÊîπÂèò state ÁöÑÊñπÊ≥ï„ÄÇÊé•Âèó‰∏Ä‰∏™Áî®Êù•ÊèèËø∞Âä®‰ΩúÁöÑ action ‰∏∫ÂèÇÊï∞ÔºåÂπ∂‰∏îÊääËøô‰∏™ action ‰Ωú‰∏∫ÂáΩÊï∞ÁöÑËøîÂõûÂÄº„ÄÇ‰ªé‰ª£Á†ÅÂâçÈù¢ÁöÑÂà§Êñ≠ÂèØ‰ª•ÁúãÂà∞Ôºåaction ÂøÖÈ°ªÊòØ‰∏Ä‰∏™Â≠óÈù¢ÈáèÂØπË±°ÔºåÂπ∂‰∏îÂøÖÈ°ªÂåÖÂê´‰∏Ä‰∏™ type ÁöÑÂ±ûÊÄß„ÄÇ ÂΩìisDispatching‰∏∫ÁúüÁöÑÊó∂ÂÄôÂºÄÂßãËß¶ÂèëÂáΩÊï∞ÔºåËøôÈáåÁöÑ currentReducer ÊòØ‰∏Ä‰∏™ÂáΩÊï∞Ôºå‰ªñÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöÂΩìÂâçÁä∂ÊÄÅ Âíå actionÔºåÁÑ∂ÂêéËøîÂõûËÆ°ÁÆóÂá∫Êù•ÁöÑÊñ∞ÁöÑÁä∂ÊÄÅÔºõÁÑ∂ÂêéÈÅçÂéÜ nextListeners ÂàóË°®ÔºåË∞ÉÁî®ÊØè‰∏™ÁõëÂê¨ÂáΩÊï∞Ôºõ replaceReducer 12345678function replaceReducer(nextReducer) &#123; if (typeof nextReducer !== 'function') &#123; throw new Error('Expected the nextReducer to be a function.') &#125; currentReducer = nextReducer dispatch(&#123; type: ActionTypes.REPLACE &#125;)&#125; Ëøô‰∏™ÂáΩÊï∞ÂèØ‰ª•ÊõøÊç¢ store ÂΩìÂâçÁöÑ reducer ÂáΩÊï∞ÔºåÈ¶ñÂÖàÁõ¥Êé•Êää currentReducer = nextReducerÔºåÁõ¥Êé•ÊõøÊç¢ÔºõÁÑ∂Âêé dispatch({ type: ActionTypes.INIT }) ÔºåÁî®Êù•ÂàùÂßãÂåñÊõøÊç¢Âêé reducer ÁîüÊàêÁöÑÂàùÂßãÂåñÁä∂ÊÄÅÂπ∂‰∏îËµã‰∫à store ÁöÑÁä∂ÊÄÅÔºõ observable 1234567891011121314151617181920212223242526272829303132function observable() &#123; const outerSubscribe = subscribe return &#123; /** * The minimal observable subscription method. * @param &#123;Object&#125; observer Any object that can be used as an observer. * The observer object should have a `next` method. * @returns &#123;subscription&#125; An object with an `unsubscribe` method that can * be used to unsubscribe the observable from the store, and prevent further * emission of values from the observable. */ subscribe(observer) &#123; if (typeof observer !== 'object' || observer === null) &#123; throw new TypeError('Expected the observer to be an object.') &#125; function observeState() &#123; if (observer.next) &#123; observer.next(getState()) &#125; &#125; observeState() const unsubscribe = outerSubscribe(observeState) return &#123; unsubscribe &#125; &#125;, [$$observable]() &#123; return this &#125; &#125;&#125; ÂØπ‰∫éËøô‰∏™ÂáΩÊï∞ÔºåÊòØ‰∏çÁõ¥Êé•Êö¥Èú≤ÁªôÂºÄÂèëËÄÖÁöÑÔºåÂÆÉÊèê‰æõ‰∫ÜÁªôÂÖ∂‰ªñËßÇÂØüËÄÖÊ®°ÂºèÔºèÂìçÂ∫îÂºèÂ∫ìÁöÑ‰∫§‰∫íÊìç‰ΩúÔºåÂÖ∑‰ΩìÂèØÁúãhttps://github.com/zenparsing/es-observable ÊúÄÂêéÊâßË°å dispatch({ type: ActionTypes.INIT })ÔºåÁî®Êù•Ê†πÊçÆ reducer ÂàùÂßãÂåñ store ÁöÑÁä∂ÊÄÅ„ÄÇ combineReducersËøô‰∏™Ê®°ÂùóÁî®Êù•ÂêàÂπ∂Â§ö‰∏™ reducers Âà∞‰∏Ä‰∏™ reducer,‰∏ÄËà¨Êàë‰ª¨‰ºöÂú®storeÁöÑreducers.jsÊñá‰ª∂Â§πÂêàÂπ∂reducer12345678910111213import &#123; combineReducers &#125; from 'redux'import &#123; reducer as home &#125; from 'pages/home'import &#123; reducer as news &#125; from 'pages/news'import &#123; reducer as cart &#125; from 'pages/cart'import &#123; reducer as shop &#125; from 'pages/shop'export default combineReducers(&#123; home, news, cart, shop&#125;) Ëøô‰∏™Ê®°Âùó‰∏≠‰∏ªË¶ÅÂÆûÁé∞‰∫Ü‰∏â‰∏™ÊñπÊ≥ï getUndefinedStateErrorMessageÂê¨‰ªñÁöÑÂêçÂ≠óÂ∞±Áü•ÈÅì‰∫Ü Ëé∑ÂæóÊú™ÂÆö‰πâÁä∂ÊÄÅÁöÑÈîôËØØ‰ø°ÊÅØ1234567891011function getUndefinedStateErrorMessage(key, action) &#123; const actionType = action &amp;&amp; action.type const actionDescription = (actionType &amp;&amp; `action "$&#123;String(actionType)&#125;"`) || 'an action' return ( `Given $&#123;actionDescription&#125;, reducer "$&#123;key&#125;" returned undefined. ` + `To ignore an action, you must explicitly return the previous state. ` + `If you want this reducer to hold no value, you can return null instead of undefined.` )&#125;getUnexpectedStateShapeWarningMessage 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647function getUnexpectedStateShapeWarningMessage( inputState, reducers, action, unexpectedKeyCache) &#123; const reducerKeys = Object.keys(reducers) const argumentName = action &amp;&amp; action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer' if (reducerKeys.length === 0) &#123; return ( 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.' ) &#125; if (!isPlainObject(inputState)) &#123; return ( `The $&#123;argumentName&#125; has unexpected type of "` + &#123;&#125;.toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1] + `". Expected argument to be an object with the following ` + `keys: "$&#123;reducerKeys.join('", "')&#125;"` ) &#125; const unexpectedKeys = Object.keys(inputState).filter( key =&gt; !reducers.hasOwnProperty(key) &amp;&amp; !unexpectedKeyCache[key] ) unexpectedKeys.forEach(key =&gt; &#123; unexpectedKeyCache[key] = true &#125;) if (action &amp;&amp; action.type === ActionTypes.REPLACE) return if (unexpectedKeys.length &gt; 0) &#123; return ( `Unexpected $&#123;unexpectedKeys.length &gt; 1 ? 'keys' : 'key'&#125; ` + `"$&#123;unexpectedKeys.join('", "')&#125;" found in $&#123;argumentName&#125;. ` + `Expected to find one of the known reducer keys instead: ` + `"$&#123;reducerKeys.join('", "')&#125;". Unexpected keys will be ignored.` ) &#125;&#125; Ëøô‰∏™Êõ¥ÈïøÁöÑÂêçÂ≠óÊõ¥Â•ΩÁêÜËß£‰∫Ü Ëé∑Âæó‰∏çÊúüÊúõÁöÑÁä∂ÊÄÅÁ±ªÂûãË≠¶ÂëäÊä•Âëä,ËØ¥ÊòéËæìÂÖ•ÁöÑstateÂ∞±‰∏çÊòØ‰∏Ä‰∏™Â≠óÈù¢ÈáèÂØπË±°ÊàñËÄÖÁªìÊûÑ‰∏çÂØπ„ÄÇ‰∏îinputState ÁöÑ key ÈÉΩÂ∫îËØ•Âú® reducer ÁöÑËá™Ë∫´Â±ûÊÄßÔºàOwnProperty, ÈùûÂéüÂûãÈìæ‰∏äÁöÑÔºâ‰∏≠ÔºåÂπ∂‰∏î‰∏çËÉΩÂú®‰º†ÂÖ•ÁöÑ unexpectedKeyCache ‰∏≠„ÄÇ assertReducerShape 123456789101112131415161718192021222324252627282930313233function assertReducerShape(reducers) &#123; Object.keys(reducers).forEach(key =&gt; &#123; const reducer = reducers[key] const initialState = reducer(undefined, &#123; type: ActionTypes.INIT &#125;) if (typeof initialState === 'undefined') &#123; throw new Error( `Reducer "$&#123;key&#125;" returned undefined during initialization. ` + `If the state passed to the reducer is undefined, you must ` + `explicitly return the initial state. The initial state may ` + `not be undefined. If you don't want to set a value for this reducer, ` + `you can use null instead of undefined.` ) &#125; if ( typeof reducer(undefined, &#123; type: ActionTypes.PROBE_UNKNOWN_ACTION() &#125;) === 'undefined' ) &#123; throw new Error( `Reducer "$&#123;key&#125;" returned undefined when probed with a random type. ` + `Don't try to handle $&#123; ActionTypes.INIT &#125; or other actions in "redux/*" ` + `namespace. They are considered private. Instead, you must return the ` + `current state for any unknown actions, unless it is undefined, ` + `in which case you must return the initial state, regardless of the ` + `action type. The initial state may not be undefined, but can be null.` ) &#125; &#125;)&#125; Áî®Êù•‰øùËØÅ‰º†ÂÖ•ÁöÑ reducers ÁöÑÁªìÊûÑÊ≠£Á°ÆÔºå‰πüÂ∞±ËØ¥ËØ¥ÊØè‰∏™ reducer ÈÉΩÂøÖÈ°ªÂú®Êî∂Âà∞ INIT action ÂêéËøîÂõû‰∏Ä‰∏™‰∏ç‰∏∫ undefined ÁöÑ initState ÔºåÂπ∂‰∏îËøô‰∏™ action ‰∏çËÉΩÂú® reducer ‰∏≠‰∏ìÈó®ÂéªÂ§ÑÁêÜ„ÄÇËøô‰πüÊòØ‰∏∫‰ªÄ‰πàÊàë‰ª¨Âú® reducer ÈáåÈù¢‰∏ÄÂÆöË¶ÅÊåáÂÆöÈªòËÆ§ËøîÂõûÁöÑ state ÁöÑÂéüÂõ†. combineReducers 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263export default function combineReducers(reducers) &#123; const reducerKeys = Object.keys(reducers) const finalReducers = &#123;&#125; for (let i = 0; i &lt; reducerKeys.length; i++) &#123; const key = reducerKeys[i] if (process.env.NODE_ENV !== 'production') &#123; if (typeof reducers[key] === 'undefined') &#123; warning(`No reducer provided for key "$&#123;key&#125;"`) &#125; &#125; if (typeof reducers[key] === 'function') &#123; finalReducers[key] = reducers[key] &#125; &#125; const finalReducerKeys = Object.keys(finalReducers) let unexpectedKeyCache if (process.env.NODE_ENV !== 'production') &#123; unexpectedKeyCache = &#123;&#125; &#125; let shapeAssertionError try &#123; assertReducerShape(finalReducers) &#125; catch (e) &#123; shapeAssertionError = e &#125; return function combination(state = &#123;&#125;, action) &#123; if (shapeAssertionError) &#123; throw shapeAssertionError &#125; if (process.env.NODE_ENV !== 'production') &#123; const warningMessage = getUnexpectedStateShapeWarningMessage( state, finalReducers, action, unexpectedKeyCache ) if (warningMessage) &#123; warning(warningMessage) &#125; &#125; let hasChanged = false const nextState = &#123;&#125; for (let i = 0; i &lt; finalReducerKeys.length; i++) &#123; const key = finalReducerKeys[i] const reducer = finalReducers[key] const previousStateForKey = state[key] const nextStateForKey = reducer(previousStateForKey, action) if (typeof nextStateForKey === 'undefined') &#123; const errorMessage = getUndefinedStateErrorMessage(key, action) throw new Error(errorMessage) &#125; nextState[key] = nextStateForKey hasChanged = hasChanged || nextStateForKey !== previousStateForKey &#125; return hasChanged ? nextState : state &#125; combineReducer Êé•Êî∂‰∏Ä‰∏™Áî®Êù•ÂêàÂπ∂Êàê‰∏Ä‰∏™ reducer ÁöÑÂØπË±°ÔºåÊâßË°åÂêéËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞Ôºå‰πüÂç≥ÊòØÊàë‰ª¨ÁöÑ rootReducer . È¶ñÂÖàÊää‰º†ÂÖ•ÁöÑ reducers Êåâ key ÈÅçÂéÜÂêéËµãÂÄºÁªô finalReducers . ÁÑ∂ÂêéËøõË°å‰∏ÄÂ†ÜÈîôËØØÂà§Êñ≠ÔºåÊúÄÂêéËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ combination. ‰πüÂ∞±ÊòØÂêàÂπ∂ÂêéÁöÑ reducer . ÊÄªÁªì&emps;&emps;‰ªäÂ§©ÂÖàÁúãÁùÄ‰∏§‰∏™ÔºåÂçßÊßΩÔºåÁúãÊ∫êÁ†ÅÂ§™ÁÉßËÑë‰∫ÜÔºåÊàë‰∏∫‰ªÄ‰πàË¶ÅË£ÖËøô‰∏™ÈÄºÔºåÂ§¥ÂèëÈÉΩÊéâÊ≤°‰∫ÜÔºå ÂÖàÂéªÊêûÁÇπËÖ∞Â≠êË°•‰∏ÄË°•ÔºåÈ™öÂπ¥ÔºåÊàëÂÖàÊí§‰∫ÜÔºåÂêéÈù¢ÁöÑ‰ª£Á†ÅÊú™ÂÆåÂæÖÁª≠~]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>Redux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Immutable Â∏∏Áî®ÊñπÊ≥ï]]></title>
    <url>%2F2018%2F12%2F02%2FImmutable%20%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä &emsp;&emsp;ËøôÈáå‰∏ªË¶ÅÊï¥ÁêÜ‰∏Ä‰∏ãÈ°πÁõÆ‰∏≠Áî®Âà∞ÁöÑ Immutable Áõ∏ÂÖ≥ÊñπÊ≥ïÔºåÁ¨¨‰∏ÄÊ¨°‰ΩøÁî®ÂèØËÉΩÊúâÁÇπÁîüÁñèÔºåËøòÊòØÈúÄË¶ÅÂØπÁÖßÊñáÊ°£„ÄÇ‰ΩÜÊòØÈÉ®ÂàÜÊñπÊ≥ïÁ°ÆÂÆûÈ´òÊïàÔºåÂ∞ÅË£Ö‰∫ÜÂéüÁîü JS ÁöÑÊñπÊ≥ïÔºåÂêåÊó∂‰πüÈõÜÊàê‰∫Ü lodash ÁöÑ‰∏Ä‰∫õÊñπÊ≥ï„ÄÇ Immutable ÂÆòÁΩëÊñáÊ°£ Immutable Â∏∏ËßÅÊï∞ÊçÆÁ±ªÂûã List: ÊúâÂ∫èÁ¥¢ÂºïÈõÜÔºåÁ±ª‰ºº JavaScript ‰∏≠ÁöÑ Array„ÄÇ Map: Êó†Â∫èÁ¥¢ÂºïÈõÜÔºåÁ±ª‰ºº JavaScript ‰∏≠ÁöÑ Object„ÄÇ Seq: Â∫èÂàóÔºå‰ΩÜÊòØÂèØËÉΩ‰∏çËÉΩÁî±ÂÖ∑‰ΩìÁöÑÊï∞ÊçÆÁªìÊûÑÊîØÊåÅ„ÄÇ OrderedMap: ÊúâÂ∫èÁöÑ MapÔºåÊ†πÊçÆÊï∞ÊçÆÁöÑ set()ËøõË°åÊéíÂ∫è„ÄÇ Set: Ê≤°ÊúâÈáçÂ§çÂÄºÁöÑÈõÜÂêà„ÄÇ OrderedSet: ÊúâÂ∫èÁöÑ SetÔºåÊ†πÊçÆÊï∞ÊçÆÁöÑ add ËøõË°åÊéíÂ∫è„ÄÇ Stack: ÊúâÂ∫èÈõÜÂêàÔºåÊîØÊåÅ‰ΩøÁî® unshiftÔºàÔºâÂíå shiftÔºàÔºâÊ∑ªÂä†ÂíåÂà†Èô§„ÄÇ Range(): ËøîÂõû‰∏Ä‰∏™ Seq.Indexed Á±ªÂûãÁöÑÈõÜÂêàÔºåËøô‰∏™ÊñπÊ≥ïÊúâ‰∏â‰∏™ÂèÇÊï∞Ôºåstart Ë°®Á§∫ÂºÄÂßãÂÄºÔºåÈªòËÆ§ÂÄº‰∏∫ 0Ôºåend Ë°®Á§∫ÁªìÊùüÂÄºÔºåÈªòËÆ§‰∏∫Êó†Á©∑Â§ßÔºåstep ‰ª£Ë°®ÊØèÊ¨°Â¢ûÂ§ßÁöÑÊï∞ÂÄºÔºåÈªòËÆ§‰∏∫ 1.Â¶ÇÊûú start = end,ÂàôËøîÂõûÁ©∫ÈõÜÂêà„ÄÇ Repeat(): ËøîÂõû‰∏Ä‰∏™ vSeq.Indexe Á±ªÂûãÁöÑÈõÜÂêàÔºåËøô‰∏™ÊñπÊ≥ïÊúâ‰∏§‰∏™ÂèÇÊï∞Ôºåvalue ‰ª£Ë°®ÈúÄË¶ÅÈáçÂ§çÁöÑÂÄºÔºåtimes ‰ª£Ë°®Ë¶ÅÈáçÂ§çÁöÑÊ¨°Êï∞ÔºåÈªòËÆ§‰∏∫Êó†Á©∑Â§ß„ÄÇ Record: ‰∏Ä‰∏™Áî®‰∫éÁîüÊàê Record ÂÆû‰æãÁöÑÁ±ª„ÄÇÁ±ª‰ºº‰∫é JavaScript ÁöÑ ObjectÔºå‰ΩÜÊòØÂè™Êé•Êî∂ÁâπÂÆöÂ≠óÁ¨¶‰∏≤‰∏∫ keyÔºåÂÖ∑ÊúâÈªòËÆ§ÂÄº„ÄÇ Collection: ÊòØÊûÑÂª∫ÊâÄÊúâÊï∞ÊçÆÁªìÊûÑÁöÑÂü∫Á±ªÔºå‰∏çÂèØ‰ª•Áõ¥Êé•ÊûÑÂª∫„ÄÇ Â∏∏Áî®API fromJS() ‰ΩúÁî®ÔºöÂ∞Ü‰∏Ä‰∏™ js Êï∞ÊçÆËΩ¨Êç¢‰∏∫ Immutable Á±ªÂûãÁöÑÊï∞ÊçÆ„ÄÇÁî®Ê≥ïÔºöfromJS(value, converter)ÁÆÄ‰ªãÔºöÂ∞Ü‰∏Ä‰∏™ÂØπË±°Ëá™Âä®ËΩ¨ÂåñÊàê MapÔºåÂ∞Ü‰∏Ä‰∏™Êï∞ÁªÑËá™Âä®ËΩ¨Êç¢Êàê ListÔºåÂè™ËÉΩÂÆûÁé∞‰∏ÄÂ±ÇÁöÑËΩ¨Âåñ 12345const defaultState = fromJS(&#123; total: 0, pay: false, selectAll: false&#125;) toJS() ‰ΩúÁî®ÔºöÂ∞Ü‰∏Ä‰∏™ Immutable Êï∞ÊçÆËΩ¨Êç¢‰∏∫ JS Á±ªÂûãÁöÑÊï∞ÊçÆ„ÄÇÁî®Ê≥ïÔºövalue.toJS()ÁÆÄ‰ªãÔºöÂ∞Ü‰∏Ä‰∏™ Map Ëá™Âä®ËΩ¨ÂåñÊàêÂØπË±°ÔºåÂ∞Ü‰∏Ä‰∏™ List Ëá™Âä®ËΩ¨Êç¢ÊàêÊï∞ÁªÑÔºåÂè™ËÉΩÂÆûÁé∞‰∏ÄÂ±ÇÁöÑËΩ¨Âåñ is() equals() ‰ΩúÁî®ÔºöÂØπ‰∏§‰∏™ÂØπË±°ËøõË°åÊØîËæÉ„ÄÇÁî®Ê≥ïÔºöis(map1,map2) map1.equals(map2)ÁÆÄ‰ªãÔºöËøîÂõûÂÄº‰∏∫‰∏Ä‰∏™ BooleanÔºåÂíåÂéüÁîü JS ÊØîËæÉ‰∏çÂêåÁöÑÊòØÔºåËøô‰∏™ÊØîËæÉÁöÑÊòØ‰∏§‰∏™ÂØπË±°ÁöÑÂ≠òÂÇ®Âú∞ÂùÄÔºåÂ∞±ÁÆóÂÄºÁõ∏ÂêåÔºåÂ≠òÂÇ®Âú∞ÂùÄ‰∏çÂêåÔºåËøîÂõûÂÄº‰πüÊòØ false ÔºåÂèØ‰ª•Áî® ‚Äò===‚ÄôÂÆûÁé∞Áõ∏ÂêåÂäüËÉΩ 123456const map1 = Map(&#123; a: 1, b: 2, c: 3&#125;)const map2 = Map(&#123; a: 1, b: 2, c: 3&#125;)console.log(map1.equals(map2)) // trueconsole.log(map1 == map2) // falseconsole.log(map1 === map2) // falseconsole.log(is(map1, map2) // true List Map ‰ΩúÁî®ÔºöÂàõÂª∫ Immutable ÁöÑ List Âíå Map ÂØπË±°Áî®Ê≥ïÔºöList() Map() get() getIn() ‰ΩúÁî®ÔºöËé∑ÂèñÂØπË±°ÁöÑÂÖ∑‰ΩìÂÄº„ÄÇÁî®Ê≥ïÔºöget(index: number): T | undefinedgetIn(searchKeyPath: Iterable, notSetValue?: any): anyÁÆÄ‰ªãÔºöget()Âè™ËÉΩÊü•Êâæ‰∏ÄÂ±ÇÁöÑ List ÊàñËÄÖ MapÔºågetIn()ÂèØ‰ª•ÂØπÂ§öÂ±ÇÁöÑ List ÊàñËÄÖ Map ËøõË°åÂèñÂÄºÔºåÈúÄË¶ÅÁî®Êï∞ÁªÑÁöÑÊñπÊ≥ïËæìÂÖ•Ë∑ØÂæÑ„ÄÇ 12345const nested = fromJS(&#123; a: &#123; b: &#123; c: [ 3, 4, 5 ] &#125; &#125; &#125;)console.log(nested.get('a'))//Map &#123; "b": Map &#123; "c": List [ 3, 4, 5 ] &#125; &#125;console.log(nested.getIn([ 'a', 'b', 'c' , 0 ]))//3 set() setIn() ‰ΩúÁî®ÔºöËÆæÁΩÆÂØπË±°ÁöÑÂÖ∑‰ΩìÂÄº„ÄÇÁî®Ê≥ïÔºöset(index: number, value: T): ListsetIn(keyPath: Iterable, value: any): thisÁÆÄ‰ªãÔºöÂêå‰∏ä12345const nested = fromJS(&#123; a: &#123; b: &#123; c: [ 3, 4, 5 ] &#125; &#125; &#125;)console.log(nested.set('a',1))//Map &#123; "a" :1 &#125;console.log(nested.getIn([ 'a', 'b', 'c' , 0 ]),0)// Map &#123; "a": Map &#123; "b": Map &#123; "c": List [ 0, 4, 5 ] &#125; &#125; &#125; updateIn() ‰ΩúÁî®ÔºöÊõ¥Êñ∞ÂØπË±°ÁöÑÂÖ∑‰ΩìÂÄº„ÄÇÁî®Ê≥ïÔºöupdateIn(keyPath: Iterable,notSetValue: any,updater: (value: any) =&gt; any): thisupdateIn(keyPath: Iterable, updater: (value: any) =&gt; any): thisÁÆÄ‰ªãÔºöÊõ¥Êñ∞Áõ∏ÂÖ≥ÂØπË±°ÔºåÂõûË∞ÉÂáΩÊï∞‰∏≠Â§ÑÁêÜÂêéËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÁä∂ÊÄÅ„ÄÇ1let newProducts1 = state.updateIn(['products'], list =&gt; list.push(1)) delete() deleteIn() ‰ΩúÁî®ÔºöÂà†Èô§Êï∞ÁªÑ‰∏≠ÁöÑÂÄºÊàñËÄÖÂØπË±°ÁöÑÂ±ûÊÄß„ÄÇÁî®Ê≥ïÔºödelete(index: number): Listdelete(key: K): thisdeleteIn(keyPath: Iterable): this12list.delete(1);list.deleteIn([0,1]); groupBy() ‰ΩúÁî®ÔºöÂØπÊï∞ÊçÆËøõË°åÂàÜÁªÑ12345678910111213const listOfMaps = List([ Map(&#123; v: 0 &#125;), Map(&#123; v: 1 &#125;), Map(&#123; v: 1 &#125;), Map(&#123; v: 0 &#125;), Map(&#123; v: 2 &#125;)])const groupsOfMaps = listOfMaps.groupBy(x =&gt; x.get('v'))// Map &#123;// 0: List [ Map&#123; "v": 0 &#125;, Map &#123; "v": 0 &#125; ],// 1: List [ Map&#123; "v": 1 &#125;, Map &#123; "v": 1 &#125; ],// 2: List [ Map&#123; "v": 2 &#125; ],// &#125; indexOf() lastIndexOf() ‰ΩúÁî®ÔºöÂíåjsÊï∞ÁªÑ‰∏≠ÁöÑÊñπÊ≥ïÁõ∏ÂêåÔºåÊü•ÊâæÁ¨¨‰∏Ä‰∏™ÊàñËÄÖÊúÄÂêé‰∏Ä‰∏™valueÁöÑindexÂÄºÔºåÊâæ‰∏çÂà∞ÂàôËøîÂõû-1ÁÆÄ‰ªãÔºöMap‰∏çÂ≠òÂú®Ê≠§ÊñπÊ≥ï findIndex() findLastIndex() ‰ΩúÁî®ÔºöÊü•ÊâæÊª°Ë∂≥Ë¶ÅÊ±ÇÁöÑÂÖÉÁ¥†ÁöÑindexÂÄºÁÆÄ‰ªãÔºöMap‰∏çÂ≠òÂú®Ê≠§ÊñπÊ≥ï Seq() ‰ΩúÁî®ÔºöÂ∞ÜÈõÜÂêàËΩ¨ÂåñÊàêseq123const &#123; Map &#125; = require('immutable')const map = Map(&#123; a: 1, b: 2, c: 3 &#125;const lazySeq = Seq(map) Seq ÂÖÅËÆ∏ÊúâÊïàÈìæÊé•Êìç‰ΩúÔºåÂÖÅËÆ∏Ë°®ËææÈÄªËæë12345lazySeq .flip() .map(key =&gt; key.toUpperCase()) .flip()// Seq &#123; A: 1, B: 1, C: 1 &#125; ÊÄªÁªì&emsp;&emsp;ÊÄª‰ΩìÊù•ËØ¥ÔºåImmutableÁöÑÁî®Ê≥ïÂπ∂Ê≤°ÊúâËøô‰πàÁπÅÁêêÔºåÂè™Ë¶ÅÂú®‰ΩøÁî®ÁöÑÊó∂ÂÄô‰øùÊåÅÊ∏ÖÈÜíÁöÑÂ§¥ËÑëÔºåÊ∞∏ËøúËÆ∞‰ΩèÊìç‰ΩúÂÆåËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÁä∂ÊÄÅ‰πÖÂ•Ω‰∫Ü„ÄÇÂÖ∂‰ªñ‰∏Ä‰∫õÈõ∂Èõ∂Á¢éÁ¢éÁöÑÊñπÊ≥ïÂèçÊ≠£ÂíåÂéüÁîüJSÁ±ª‰ººÂï¶ÔºåÈ™öÂπ¥ÔºåÂæÅÊúçImmutableËøô‰∏™Â∞èÂ¶ñÁ≤æÂèòÂæóso easy!!!]]></content>
      <categories>
        <category>React</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Â¶Ç‰ΩïÂú®React-Native‰∏ä‰ΩøÁî®Typescript]]></title>
    <url>%2F2018%2F12%2F01%2F%E5%A6%82%E4%BD%95%E5%9C%A8React-Native%E4%B8%8A%E4%BD%BF%E7%94%A8Typescript%2F</url>
    <content type="text"><![CDATA[ÂàõÂª∫React-NativeÈ°πÁõÆ ÂÆâË£ÖËÑöÊâãÊû∂ yarn global add create-react-native-app ÂàõÂª∫È°πÁõÆ create-react-native-app È°πÁõÆÂêçÁß∞ ËøõÂÖ•È°πÁõÆÂπ∂ÂêØÂä® cd xxxyarn start Â¶ÇÊûú‰∏ç‰ΩøÁî®TypescriptÔºåÁé∞Âú®Â∞±ÂèØ‰ª•ÁªèË°åRNÁöÑÈ°πÁõÆÂºÄÂèë‰∫ÜÔºå‰ΩÜÊòØË¶Å‰ΩøÁî®TypescriptÔºåËøòÈúÄË¶ÅÊäòËÖæ‰∏ÄÁï™„ÄÇ ÈÖçÁΩÆTypescriptÂºÄÂèë‰æùËµñ ÂÆâË£Öts‰æùËµñ ËøôÈáåÂÆâË£ÖtsËØ≠Ë®Ä‰æùËµñÔºåÂêåÊó∂Â∞ÜreactÁöÑ‰∏Ä‰∫õÂåÖÂÆâË£ÖÂà∞ @typesÊñá‰ª∂Â§πÂÜÖÔºå‰∏çÁÑ∂ÂÜôreact‰ª£Á†ÅÁöÑÊó∂ÂÄô‰ºöÊä•Êâæ‰∏çÂà∞reactÂåÖ‰æùËµñ yarn add typescript tslint -Dyarn add @types/react @types/react-native @types/react-dom -D Êàë‰ª¨ËøòÈúÄË¶ÅconcurrentlyÊù•ÂÆûÊó∂ÁõëÂê¨Êñá‰ª∂ÂèòÂåñÔºårimrafÔºåÂπ∂ÂèëÂú∞Ê∏ÖÁêÜ‰ªétsÁºñËØëËøáÊù•ÁöÑjsÊñá‰ª∂ÁöÑËæìÂá∫Êñá‰ª∂Â§πÔºåÂπ∂ÂèëÂú∞ËøêË°ånpmËÑöÊú¨. yarn add concurrently rimraf -D ÈÖçÁΩÆtsÊñá‰ª∂ Âú®Ê†πÁõÆÂΩï‰∏ãÊâãÂä®ÂàõÂª∫tsconfig.jsonÊñá‰ª∂ÔºåÂ∞Ü‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÁõ¥Êé•Â§çÂà∂ËøõÂéª123456789101112131415161718192021222324252627282930313233343536373839&#123; "compilerOptions": &#123; "module":"es2015", "target": "es2015", "jsx": "react", "rootDir": "src", "outDir": "build", "allowSyntheticDefaultImports": true, "noImplicitAny": true, "sourceMap": true, "experimentalDecorators": true, "preserveConstEnums": true, "allowJs": true, "noUnusedLocals": true, "noUnusedParameters": true, "noImplicitReturns": true, "skipLibCheck": true, "moduleResolution":"Node" &#125;, "filesGlob": [ "typings/index.d.ts", "src/**/*.ts", "src/**/*.tsx", "node_modules/typescript/lib/lib.es6.d.ts" ], "types": [ "react", "react-dom", "react-native" ], "exclude":[ "build", "node_modules", "jest.config.js", "App.js" ], "compileOnSave": false&#125; ÈúÄË¶ÅÊ≥®ÊÑè‰∏Ä‰∫õÁªÜËäÇÔºö Êàë‰ª¨Â∏åÊúõÂ∞ÜTypescriptÂ∫îÁî®Á®ãÂ∫èÁöÑÊâÄÊúâ‰ª£Á†ÅÂ≠òÂÇ®Âú®srcÊñá‰ª∂Â§π‰∏ãÁöÑÊñá‰ª∂Â§π/Â≠êÊñá‰ª∂Â§π‰∏≠„ÄÇÁî®‚ÄúrootDir‚Äù:‚Äúsrc‚ÄúÔºåÁ°Æ‰øù‰Ω†ÁöÑÊ†πÁõÆÂΩï‰∏∫srcÊàñËÄÖ‰πüÂèØ‰ª•ÊâãÂä®Êõ¥Êîπ Âπ∂Êääbabel.config.jsÊñá‰ª∂ÊâîÂà∞Ëøô‰∏™Êñá‰ª∂Â§πÂÜÖ ÂÆâË£ÖnpmËÑöÊú¨ÁöÑ‰æùËµñÔºåÊñπ‰æøÊâìÂåÖÂíåËøêË°å yarn add react-native-scripts Â∞Üpackage.json‰∏≠ÁöÑscripts‰ª£Êõø‰∏∫‰∏ãÈù¢ÁöÑÈÖçÁΩÆ123456789101112131415161718'script':&#123; "start": "react-native-scripts start", "eject": "react-native-scripts eject", "android": "react-native-scripts android", "ios": "react-native-scripts ios", "test": "node node_modules/jest/bin/jest.js", "lint": "tslint src/**/*.ts", "tsc": "tsc", "clean": "rimraf build", "build": "yarn run clean &amp;&amp; yarn run tsc --", "watch": "yarn run build -- -w", "watchAndRunAndroid": "concurrently \"yarn run watch\" \"yarn run android\"", "buildRunAndroid": "yarn run build &amp;&amp; yarn run watchAndRunAndroid ", "watchAndRunIOS": "concurrently \"yarn run watch\" \"yarn run ios\"", "buildRunIOS": "yarn run build &amp;&amp; yarn run watchAndRunIOS ", "watchAndStart": "concurrently \"yarn run watch\" \"yarn run start\"", "buildAndStart": "yarn run build &amp;&amp; yarn run watchAndStart "&#125; Â∞ÜmainÊõ¥Êîπ‰∏∫Ôºö ‚Äúmain‚Äù:‚Äù./node_modules/react-nativescripts/build/bin/crna-entry.js‚Äù ËøôÊÑèÂë≥ÁùÄÊàë‰ª¨ÁöÑÂ∫îÁî®Á®ãÂ∫è‰ªéËøô‰∏™crna-entry.js ÂºÄÂßã„ÄÇÊâìÂºÄËøô‰∏™Êñá‰ª∂Ôºå‰Ω†‰ºöÂèëÁé∞ÂÆÉÂºïÁî®‰∫ÜÊàë‰ª¨ÁöÑApp.js var _App = require(‚Äò../../../../App‚Äô); ‰øÆÊîπApp.jsÊñá‰ª∂ 12import App from './build/App';export default App; Ê≥®ÊÑèÂàõÂª∫typescriptÊñá‰ª∂ÂêéÁºÄ‰∏∫.tsx ÂêØÂä®‰ªªÂä° ËøêË°åÂëΩ‰ª§Âç≥ÂèØ,Áõ¥Êé•ÊâìÂåÖÂπ∂‰∏îÂêØÂä®‰ªªÂä°ÔºåËøôÂèØËÉΩÈúÄË¶Å‰∏Ä‰∫õ‰∫ã‰ª∂ÔºåÂ∞ë‰æ†ËØ∑ËÄêÂøÉÁ≠âÂÄô„ÄÇ yarn buildAndStart]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React-Native</tag>
        <tag>Typescript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Immutable.js‰πãÊàëËßÅ]]></title>
    <url>%2F2018%2F11%2F30%2FImmutable.js%E4%B9%8B%E6%88%91%E8%A7%81%2F</url>
    <content type="text"><![CDATA[ÂâçË®Ä&emsp;&emsp;Êú¨Êñá‰∏ªË¶Å‰ªãÁªçfacebookÊé®Âá∫ÁöÑ‰∏Ä‰∏™Á±ªÂ∫ìimmutable.jsÔºå‰ª•ÂèäÂ¶Ç‰ΩïÂ∞Üimmutable.jsÈõÜÊàêÂà∞ÊàëÁé∞ÊúâÁöÑreact+reduxÊû∂ÊûÑÁöÑÁßªÂä®Á´ØÈ°πÁõÆ‰∏≠„ÄÇ ‰∏Ä.immutable.js‰ªãÁªç ÂéüÁîüjsÂú®redux‰∏≠Â§ÑÁêÜÊï∞ÊçÆÁöÑÂùë&emsp;&emsp;Ââç‰∏§Â§©Âú®Â§ÑÁêÜË¥≠Áâ©ËΩ¶ÁöÑreduxÈÄªËæëÁöÑÊó∂ÂÄôÔºåÈÅáÂà∞‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂÖ®ÈÄâÂèçÈÄâÁöÑÂäüËÉΩÂíåÈÄªËæëÊ≤°ÊúâÈóÆÈ¢òÔºåÊîπÂèòÂêéÁöÑÊï∞ÊçÆÂú®reducer‰∏≠ÊâìÂç∞Âá∫Êù•‰πüÂ∑≤ÁªèÊòØÊ≠£Á°ÆÁöÑÊîπÂèòÔºå‰ΩÜÊòØÈ°µÈù¢‰∏≠ÁöÑÂÖÉÁ¥†Â∞±ÊòØ‰∏ç‰ºöÂèëÁîüÊîπÂèòÔºåÁîöËá≥‰∏ç‰ºöÈáçÊñ∞ÊâßË°årender()ÁöÑÁîüÂëΩÂë®Êúü„ÄÇ123456789101112131415161718//Ëé∑ÂèñÂ≠òÂÇ®ÁöÑË¥≠Áâ©ËΩ¶ÂïÜÂìÅ‰ø°ÊÅØlet products = state.products//Ê†πÊçÆ‰º†ÂÖ•ÁöÑid Êü•ÊâæÂπ∂‰øÆÊîπËøô‰∏™Áâ©ÂìÅÁöÑÈÄâ‰∏≠Áä∂ÊÄÅfor (let i = 0; i &lt; products.length; i++) &#123; if (products[i].id === action.id) &#123; products[i].select = action.isSelect break; &#125; else &#123; continue &#125;&#125;//ËøîÂõûÊñ∞ÁöÑÁä∂ÊÄÅreturn &#123; ...state, products,&#125;&emsp;&emsp;‰πç‰∏ÄÁúãÂ•ΩÂÉèÊ≤°ÊúâÈóÆÈ¢òÔºåÊâæ‰∫ÜÂ•Ω‰πÖÊâçÂèëÁé∞Âú®reducer‰∏≠Â§ÑÁêÜÊï∞ÊçÆÁöÑÊó∂ÂÄô‰ΩøÁî®‰∫ÜÂú∞ÂùÄÂºïÁî®ÔºåÂØºËá¥ËøîÂõûÁöÑËøòÊòØÂéüÊù•ÁöÑÂØπË±°ÔºåÁä∂ÊÄÅÊ≤°ÊúâÂèëÁîüÊîπÂèò„ÄÇReactÂØπ‰∫éÁä∂ÊÄÅÂèòÂåñÁöÑÊÑüÁü•ÊòØÂøÖÈ°ªËøîÂõûÁöÑÊñ∞ÂØπË±°Êâç‰ºöÂºïËµ∑Áä∂ÊÄÅÁöÑÂèòÂåñÔºå‰ªéËÄåÂéªÊ∏≤ÊüìÈ°µÈù¢„ÄÇ‰∏ãÈù¢ÊâçÊòØÊ≠£Â∏∏ÁöÑ‰ª£Á†Å„ÄÇ12//Ëé∑ÂèñÂ≠òÂÇ®ÁöÑË¥≠Áâ©ËΩ¶ÂïÜÂìÅ‰ø°ÊÅØlet products = state.products&emsp;&emsp;Âú®js‰∏≠ÔºåÂºïÁî®Á±ªÂûãÁöÑÊï∞ÊçÆÔºå‰ºòÁÇπÂú®‰∫éÈ¢ëÁπÅÁöÑÊìç‰ΩúÊï∞ÊçÆÈÉΩÊòØÂú®ÂéüÂØπË±°ÁöÑÂü∫Á°Ä‰∏ä‰øÆÊîπÔºå‰∏ç‰ºöÂàõÂª∫Êñ∞ÂØπË±°Ôºå‰ªéËÄåÂèØ‰ª•ÊúâÊïàÁöÑÂà©Áî®ÂÜÖÂ≠òÔºå‰∏ç‰ºöÊµ™Ë¥πÂÜÖÂ≠òÔºåËøôÁßçÁâπÊÄßÁß∞‰∏∫mutableÔºàÂèØÂèòÔºâÔºå‰ΩÜÊÅ∞ÊÅ∞ÂÆÉÁöÑ‰ºòÁÇπ‰πüÊòØÂÆÉÁöÑÁº∫ÁÇπÔºåÂ§™Ëøá‰∫éÁÅµÊ¥ªÂ§öÂèòÂú®Â§çÊùÇÊï∞ÊçÆÁöÑÂú∫ÊôØ‰∏ã‰πüÈÄ†Êàê‰∫ÜÂÆÉÁöÑ‰∏çÂèØÊéßÊÄßÔºåÂÅáËÆæ‰∏Ä‰∏™ÂØπË±°Âú®Â§öÂ§ÑÁî®Âà∞ÔºåÂú®Êüê‰∏ÄÂ§Ñ‰∏çÂ∞èÂøÉ‰øÆÊîπ‰∫ÜÊï∞ÊçÆÔºåÂÖ∂‰ªñÂú∞ÊñπÂæàÈöæÈ¢ÑËßÅÂà∞Êï∞ÊçÆÊòØÂ¶Ç‰ΩïÊîπÂèòÁöÑÔºåÈíàÂØπËøôÁßçÈóÆÈ¢òÁöÑËß£ÂÜ≥ÊñπÊ≥ïÔºå‰∏ÄËà¨Â∞±ÂÉèÂàöÊâçÁöÑ‰æãÂ≠êÔºå‰ºöÊÉ≥Â§çÂà∂‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåÂÜçÂú®Êñ∞ÂØπË±°‰∏äÂÅö‰øÆÊîπÔºåËøôÊó†Áñë‰ºöÈÄ†ÊàêÊõ¥Â§öÁöÑÊÄßËÉΩÈóÆÈ¢ò‰ª•ÂèäÂÜÖÂ≠òÊµ™Ë¥π„ÄÇ ‰∏∫‰∫ÜËß£ÂÜ≥ËøôÁßçÈóÆÈ¢òÔºåÂá∫Áé∞‰∫ÜimmutableÂØπË±°ÔºåÊØèÊ¨°‰øÆÊîπimmutableÂØπË±°ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ‰∏çÂèØÂèòÂØπË±°ÔºåËÄåËÄÅÁöÑÂØπË±°‰∏ç‰ºöÊîπÂèò„ÄÇimmutable.js‰ªãÁªçimmutable.js‰∏ªË¶ÅÊúâ‰∏âÂ§ßÁâπÊÄßÔºö Persistent data structure ÔºàÊåÅ‰πÖÂåñÊï∞ÊçÆÁªìÊûÑÔºâ ‰∏ÄËà¨Âê¨Âà∞ÊåÅ‰πÖÂåñÔºåÂú®ÁºñÁ®ã‰∏≠Á¨¨‰∏ÄÂèçÂ∫îÂ∫îËØ•ÊòØÔºåÊï∞ÊçÆÂ≠òÂú®Êüê‰∏™Âú∞ÊñπÔºåÈúÄË¶ÅÁî®Âà∞ÁöÑÊó∂ÂÄôÂ∞±ËÉΩ‰ªéËøô‰∏™Âú∞ÊñπÊãøÂá∫Êù•Áõ¥Êé•‰ΩøÁî® ‰ΩÜËøôÈáåËØ¥ÁöÑÊåÅ‰πÖÂåñÊòØÂè¶‰∏Ä‰∏™ÊÑèÊÄùÔºåÁî®Êù•ÊèèËø∞‰∏ÄÁßçÊï∞ÊçÆÁªìÊûÑÔºå‰∏ÄËà¨ÂáΩÊï∞ÂºèÁºñÁ®ã‰∏≠ÈùûÂ∏∏Â∏∏ËßÅÔºåÊåá‰∏Ä‰∏™Êï∞ÊçÆÔºåÂú®Ë¢´‰øÆÊîπÊó∂Ôºå‰ªçÁÑ∂ËÉΩÂ§ü‰øùÊåÅ‰øÆÊîπÂâçÁöÑÁä∂ÊÄÅÔºå‰ªéÊú¨Ë¥®Êù•ËØ¥ÔºåËøôÁßçÊï∞ÊçÆÁ±ªÂûãÂ∞±ÊòØ‰∏çÂèØÂèòÁ±ªÂûãÔºå‰πüÂ∞±ÊòØimmutable immutable.jsÊèê‰æõ‰∫ÜÂçÅ‰ΩôÁßç‰∏çÂèØÂèòÁöÑÁ±ªÂûãÔºàListÔºåMapÔºåSetÔºåSeqÔºåCollectionÔºåRangeÁ≠âÔºâ structural sharing ÔºàÁªìÊûÑÂÖ±‰∫´Ôºâ immutable‰ΩøÁî®ÂÖàËøõÁöÑtries(Â≠óÂÖ∏Ê†ë)ÊäÄÊúØÂÆûÁé∞ÁªìÊûÑÂÖ±‰∫´Êù•Ëß£ÂÜ≥ÊÄßËÉΩÈóÆÈ¢òÔºåÂΩìÊàë‰ª¨ÂØπ‰∏Ä‰∏™ImmutableÂØπË±°ËøõË°åÊìç‰ΩúÁöÑÊó∂ÂÄôÔºåImmutableJS‰ºöÂè™cloneËØ•ËäÇÁÇπ‰ª•ÂèäÂÆÉÁöÑÁ•ñÂÖàËäÇÁÇπÔºåÂÖ∂‰ªñ‰øùÊåÅ‰∏çÂèòÔºåËøôÊ†∑ÂèØ‰ª•ÂÖ±‰∫´Áõ∏ÂêåÁöÑÈÉ®ÂàÜÔºåÂ§ßÂ§ßÊèêÈ´òÊÄßËÉΩ„ÄÇ* support lazy operation ÔºàÊÉ∞ÊÄßÊìç‰ΩúÔºâ ËøôÈáåÊúâ‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÊçÆÁ±ªÂûãSeqÔºåÂÆÉÊúâË∑üÂéüÁîüjsÁ±ª‰ººÁöÑÊñπÊ≥ïÔºå‰ΩÜÊòØÊÄßËÉΩÂç¥ËøúËøú‰ºò‰∫éÂéüÁîüjs123456789Immutable.Seq.of(1,2,3,4,5,6,7,8).filter(x=&gt;&#123; console.log('ImmutableÊâßË°å') return x%2&#125;)[1,2,3,4,5,6,7,8].filter(x=&gt;&#123; console.log('ÂéüÁîüjsÊâßË°å') return x%2&#125;) ÁªìÊûúÊòØ‰∏äÈù¢ÁöÑÂè™ÊâßË°å3Ê¨°Ôºå‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊâßË°å‰∫Ü8Ê¨°„ÄÇ ÈÇ£‰πàÂØπ‰∫éÈ´òÈ¢ëÁéáÁöÑÂ§ßÈáèÊï∞ÊçÆÂ§ÑÁêÜÔºåËøôÂ∞±ÊÑèÂë≥ÁùÄÊÄßËÉΩÁöÑ‰ºòÂåñ„ÄÇimmutable.jsÁöÑ‰ºòÁº∫ÁÇπ ‰ºòÁÇπ Èôç‰ΩémutableÂ∏¶Êù•ÁöÑÂ§çÊùÇÂ∫¶ÔºåÁîöËá≥ÂèØ‰ª•ÁúÅÁï•loadshÊàñËÄÖunderscoreÁöÑÂºïÂÖ• ËäÇÁúÅÂÜÖÂ≠ò ÂéÜÂè≤ËøΩÊ∫ØÊÄßÔºàÊó∂Èó¥ÊóÖË°åÔºâÔºöÊó∂Èó¥ÊóÖË°åÊåáÁöÑÊòØÔºåÊØèÊó∂ÊØèÂàªÁöÑÂÄºÈÉΩË¢´‰øùÁïô‰∫ÜÔºåÊÉ≥ÂõûÈÄÄÂà∞Âì™‰∏ÄÊ≠•Âè™Ë¶ÅÁÆÄÂçïÁöÑÂ∞ÜÊï∞ÊçÆÂèñÂá∫Â∞±Ë°åÔºåÊÉ≥‰∏Ä‰∏ãÂ¶ÇÊûúÁé∞Âú®È°µÈù¢Êúâ‰∏™Êí§ÈîÄÁöÑÊìç‰ΩúÔºåÊí§ÈîÄÂâçÁöÑÊï∞ÊçÆË¢´‰øùÁïô‰∫ÜÔºåÂè™ÈúÄË¶ÅÂèñÂá∫Â∞±Ë°åÔºåËøô‰∏™ÁâπÊÄßÂú®reduxÊàñËÄÖflux‰∏≠ÁâπÂà´ÊúâÁî® Êã•Êä±ÂáΩÊï∞ÂºèÁºñÁ®ãÔºöimmutableÊú¨Êù•Â∞±ÊòØÂáΩÊï∞ÂºèÁºñÁ®ãÁöÑÊ¶ÇÂøµÔºåÁ∫ØÂáΩÊï∞ÂºèÁºñÁ®ãÁöÑÁâπÁÇπÂ∞±ÊòØÔºåÂè™Ë¶ÅËæìÂÖ•‰∏ÄËá¥ÔºåËæìÂá∫ÂøÖÁÑ∂‰∏ÄËá¥ÔºåÁõ∏ÊØî‰∫éÈù¢ÂêëÂØπË±°ÔºåËøôÊ†∑ÂºÄÂèëÁªÑ‰ª∂ÂíåË∞ÉËØïÊõ¥Êñπ‰æø Áº∫ÁÇπ ÈúÄË¶ÅÈáçÊñ∞Â≠¶‰π†api ÂÆπÊòì‰∏éÂéüÁîüÂØπË±°Ê∑∑Ê∑ÜÔºöÁî±‰∫éapi‰∏éÂéüÁîü‰∏çÂêåÔºåÊ∑∑Áî®ÁöÑËØùÂÆπÊòìÂá∫Èîô„ÄÇ ‰∫å.react+redux‰∏≠ÈõÜÊàêimmutable.jsÂÆûË∑µ ‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®redux‰∏≠ÈõÜÊàêimmutable ReactÊúâ‰∏Ä‰∏™Â•áÊÄ™ÁöÑ‰ª§‰∫∫ÂèëÊåáÁöÑÁâπÊÄßÔºåÂΩì‰∏Ä‰∏™ÁªÑ‰ª∂Êõ¥Êñ∞ÁöÑÊó∂ÂÄôÔºå‰ªñÁöÑÂ≠êÁªÑ‰ª∂ÊàñËÄÖÁà∂ÁªÑ‰ª∂ÈÉΩ‰ºöÂèëÁîüÊõ¥Êñ∞ÔºåÂèØËÉΩ‰Ω†Âè™ÊòØ‰øÆÊîπ‰∫Ü‰∏Ä‰∏™ÂçïÈÄâÈíÆÁöÑÊ†∑ÂºèÔºå‰ΩÜÊòØÁâµ‰∏ÄÂèëÂä®ÂÖ®Ë∫´ÔºåÂèØËÉΩÂèòÂåñÁöÑÊòØ100‰∏™ÁªÑ‰ª∂ÔºåÊâÄ‰ª•reactÊúâ‰∏™ÈáçË¶ÅÁöÑÊÄßËÉΩ‰ºòÂåñÁöÑÁÇπÂ∞±ÊòØshouldComponentUpdate„ÄÇzÁà±Ëøô‰∏™ÁîüÂëΩÂë®ÊúüÈí©Â≠ê‰∏≠ÔºåÈúÄË¶ÅÂØπÊï∞ÊçÆËøõË°åÊØîËæÉÔºåÂ¶ÇÊûúÊï∞ÊçÆÂæàÂ§ßÔºåÂ±ÇÊ¨°ÂæàÊ∑±ÔºåÈù†ÂéüÁîüJSÊñπÊ≥ïÈÄêÂ±ÇÊØîËæÉÔºåÂèØËÉΩÂ∑≤ÁªèÂêê‰∫ÜÔºå‰ΩÜÊòØimmutable.js,Ë∂ÖÁ∫ßÁÆÄ„ÄÇ1a===b ÊòéÁ°ÆËæπÁïå Âú®redux‰∏≠ÔºåÂÖ®Â±ÄstateÂøÖÈ°ªÊòØimmutableÁöÑÔºåËøôÁÇπÊØãÂ∫∏ÁΩÆÁñëÊòØÊàë‰ª¨‰ΩøÁî®immutableÊù•‰ºòÂåñreduxÁöÑÊ†∏ÂøÉ ÁªÑ‰ª∂propsÊòØÈÄöËøáreduxÁöÑconnect‰ªéstate‰∏≠Ëé∑ÂæóÁöÑÔºåÂπ∂‰∏îÂºïÂÖ•immutableJSÁöÑÂè¶‰∏Ä‰∏™ÁõÆÁöÑÊòØÂáèÂ∞ëÁªÑ‰ª∂shouldComponentUpdate‰∏≠‰∏çÂøÖË¶ÅÊ∏≤ÊüìÔºåshouldComponentUpdate‰∏≠ÊØîÂØπÁöÑÊòØpropsÔºåÂ¶ÇÊûúpropsÊòØÂéüÁîüJSÂ∞±Â§±Âéª‰∫Ü‰ºòÂåñÁöÑÊÑè‰πâ ÁªÑ‰ª∂ÂÜÖÈÉ®stateÂ¶ÇÊûúÈúÄË¶ÅÊèê‰∫§Âà∞storeÁöÑÔºåÂøÖÈ°ªÊòØimmutableÔºåÂê¶Âàô‰∏çÂº∫Âà∂ viewÊèê‰∫§Âà∞action‰∏≠ÁöÑÊï∞ÊçÆÂøÖÈ°ªÊòØimmutable ActionÊèê‰∫§Âà∞reducer‰∏≠ÁöÑÊï∞ÊçÆÂøÖÈ°ªÊòØimmutable reducer‰∏≠ÊúÄÁªàÂ§ÑÁêÜstateÂøÖÈ°ªÊòØ‰ª•immutableÁöÑÂΩ¢ÂºèÂ§ÑÁêÜÂπ∂ËøîÂõû ‰∏éÊúçÂä°Á´Øajax‰∫§‰∫í‰∏≠ËøîÂõûÁöÑcallbackÁªü‰∏ÄÂ∞ÅË£ÖÔºåÁ¨¨‰∏ÄÊó∂Èó¥ËΩ¨Êç¢ÊàêimmutableÊï∞ÊçÆ ‰Ω†‰ΩìÈ™åËøáÁªùÊúõ‰πàÔºåÂè™Ë¶Å‰Ω†ÈÄâÊã©‰∫Üimmutable.jsÔºåÂØπ‰∏çËµ∑ËØ∑ÂøòËÆ∞ÂéüÁîüjsÔºå‰∏çÁÑ∂‰Ω†ÂÜôÈ°πÁõÆÁöÑÊó∂ÂÄôÂèØËÉΩÂ∞±ÂáâÂáâ‰∫Ü„ÄÇ ÂÖ∑‰ΩìÊ≥®ÂÖ•ÊñπÊ°à redux‰∏≠ÔºåÁ¨¨‰∏ÄÊ≠•ËÇØÂÆöÂà©Áî®combineReducersÊù•ÂêàÂπ∂reducerÂπ∂ÂàùÂßãÂåñstateÔºåreduxËá™Â∏¶ÁöÑcombineReducersÂè™ÊîØÊåÅstateÊòØÂéüÁîüjsÂΩ¢ÂºèÁöÑÔºåÊâÄ‰ª•ËøôÈáåÊàë‰ª¨ÈúÄË¶Å‰ΩøÁî®redux-immutableÊèê‰æõÁöÑcombineReducersÊù•ÊõøÊç¢ÂéüÊù•ÁöÑÊñπÊ≥ï12345678910import &#123;combineReducers&#125; from 'redux-immutable';import &#123;reducer as shop&#125; from './shop';import &#123;reducer as cart&#125; from './cart';import &#123;reducer as news&#125; from './news'; const rootReducer = combineReducers(&#123; shop, cart, news,&#125;); reducer‰∏≠ÁöÑinitialStateËÇØÂÆö‰πüÈúÄË¶ÅÂàùÂßãÂåñÊàêimmutableÁ±ªÂûã 12345678const defaultState = &#123; products : Immutable.Map(&#123;&#125;);&#125;export default (state = defaultState, action) =&gt; &#123; switch (action.type) &#123; case SET_ERROR: &#125;&#125; ‰∏â. ÊÄªÁªì ÊÄªÁöÑÊù•ËØ¥immutable.jsÁöÑÂá∫Áé∞Ëß£ÂÜ≥‰∫ÜËÆ∏Â§öÂéüÁîüjsÁöÑÁóõÁÇπÔºåÂπ∂‰∏îËá™Ë∫´ÂØπÊÄßËÉΩÊñπÈù¢ÂÅö‰∫ÜËÆ∏Â§öÁöÑ‰ºòÂåñÂ§ÑÁêÜÔºåËÄå‰∏îimmuable.js‰Ωú‰∏∫ÂíåreactÂêåÊúüÊé®Âá∫ÁöÑ‰∏Ä‰∏™‰∫ßÂìÅÔºåÂÆåÁæéÁöÑÂ•ëÂêà‰∫Üreact+reduxÁöÑstateÊµÅÂ§ÑÁêÜÔºåreduxÁöÑÂÆóÊó®Â∞±ÊòØÂçï‰∏ÄÊï∞ÊçÆÊµÅÔºåÂèØËøΩÊ∫ØÔºåËøô‰∏§ÁÇπÊÅ∞ÊÅ∞ÊòØimmutable.jsÁöÑ‰ºòÂäøÔºåËá™ÁÑ∂Ê∞¥Âà∞Ê∏†ÊàêÔºå‰Ωï‰πêËÄå‰∏ç‰∏∫„ÄÇ ÂΩìÁÑ∂‰πü‰∏çÊòØÊâÄÊúâ‰ΩøÁî®react+reduxÁöÑÂú∫ÊôØÈÉΩÈúÄË¶Å‰ΩøÁî®immutable.jsÔºåÂª∫ËÆÆÊª°Ë∂≥È°πÁõÆË∂≥Â§üÂ§ßÔºåstateÁªìÊûÑË∂≥Â§üÂ§çÊùÇÁöÑÂéüÂàôÔºåÂ∞èÈ°πÁõÆÂèØ‰ª•ÊâãÂä®Â§ÑÁêÜshouldComponentUpdateÔºå‰∏çÂª∫ËÆÆ‰ΩøÁî®ÔºåÂæó‰∏çÂÅøÂ§±„ÄÇ ÂÄüÈâ¥‰∫ébig old]]></content>
      <categories>
        <category>React</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[socket.ioÂÆûÁé∞‰ø°ÊÅØÊé®ÈÄÅ]]></title>
    <url>%2F2018%2F11%2F01%2Fsocket-io%E5%AE%9E%E7%8E%B0%E4%BF%A1%E6%81%AF%E6%8E%A8%E9%80%81%2F</url>
    <content type="text"><![CDATA[WebSocketÊòØhtml5Êñ∞Â¢ûÂä†ÁöÑ‰∏ÄÁßçÈÄö‰ø°ÂçèËÆÆÔºåÁõÆÂâçÊµÅË°åÁöÑÊµèËßàÂô®ÈÉΩÊîØÊåÅËøô‰∏™Âçè„ÄÇ‰ΩÜÊòØ‰ªäÂ§©ÁöÑ‰∏ªËßísocket.ioÂ∞ÜWebsocketÂíåËΩÆËØ¢ ÔºàPollingÔºâÊú∫Âà∂‰ª•ÂèäÂÖ∂ÂÆÉÁöÑÂÆûÊó∂ÈÄö‰ø°ÊñπÂºèÂ∞ÅË£ÖÊàê‰∫ÜÈÄöÁî®ÁöÑÊé•Âè£ÔºåÂπ∂‰∏îÂú®ÊúçÂä°Á´ØÂÆûÁé∞‰∫ÜËøô‰∫õÂÆûÊó∂Êú∫Âà∂ÁöÑÁõ∏Â∫î‰ª£Á†Å„ÄÇÁõ∏ÊØîËæÉ‰πã‰∏ãÔºå‰ΩøÁî®ÂÆÉÂÅöÂÆûÊó∂ÔºåÂèåÂêëÂíåÂü∫‰∫é‰∫ã‰ª∂ÁöÑÈÄö‰ø°Êõ¥Âä†Êñπ‰æø„ÄÇ socket.ioÂÆòÁΩë ÂáÜÂ§áÂ∑•‰Ωú ‰ΩøÁî®expressËá™Âä®ÁîüÊàê‰∏Ä‰∏™ÂêéÂè∞Êñá‰ª∂ÁõÆÂΩï(ÂâçÊèêÊòØ‰Ω†Â∑≤ÁªèÂÆâË£Ö‰∫Ü(express),Êàë‰π†ÊÉØÁî®ejsÊ®°ÊùøÔºåËôΩÁÑ∂ÂêéÈù¢Áî®‰∏çÂà∞„ÄÇ 1express --view=ejs ÂÆâË£Ö socket.ioÔºåÂèãÊÉÖÊèêÁ§∫ËØ∑Âú®ÁΩëÁªúË¥®ÈáèËâØÂ•ΩÁöÑÊÉÖÂÜµ‰∏ãËøõË°å 1yarn add socket.io Ëµ∑Ê≠• Áî±‰∫éÂÆòÁΩë‰∏äÊèê‰æõÁöÑÊ°à‰æãË∑üÊàëÁöÑÈúÄÊ±ÇÂá∫ÂÖ•ÔºåËØ∑Ê±ÇÁöÑÊòØÂêéÁ´ØËµÑÊ∫ê„ÄÇÊàëÁöÑÈ°πÁõÆÊòØÂâçÂêéÁ´ØÂàÜÁ¶ªÈÉ®ÁΩ≤ÔºåÂêéÂè∞Êï∞ÊçÆÊõ¥Êñ∞ÂêéÔºåÁªôÁî®Êà∑‰ΩøÁî®ÁöÑÁßªÂä®Á´ØÊï∞ÊçÆËøõË°åÊõ¥Êñ∞Êé®ÈÄÅ„ÄÇÊàëËÆ©ÂêéÂè∞ÂíåÁßªÂä®Á´ØÈ°πÁõÆÂêåÊó∂ÂéªÁõëÂê¨Âè¶Â§ñ‰∏Ä‰∏™Êé•Âè£ÔºåÈÄöËøáËøô‰∏™Êé•Âè£‰Ωú‰∏∫‰∏Ä‰∏™Ê°•Ê¢ÅÔºåÂÆûÁé∞ÂâçÂêéÁ´ØÈÄö‰ø°„ÄÇ ÂêéÁ´ØÂàùÂßãÂåñÔºåÂêØÂä®‰∏Ä‰∏™Êú¨Âú∞ÊúçÂä°Âô®ÔºåÁ´ØÂè£Âè∑‰∏∫9002 (Ëøô‰∏™Á´ØÂè£Â∫îËØ•Ê≤°‰∫∫Áî®Âêß~) 123var server = require('http').createServer();var io = require('socket.io')(server);server.listen(9002); ÂâçÁ´ØÂàùÂßãÂåñÔºåÂºïÂÖ•socket.io ÁöÑjs Êñá‰ª∂ÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™ioÂØπË±°ÔºåËøô‰∏™ÂØπË±°‰πüÁõëÂê¨ÁùÄÊú¨Âú∞ÁöÑ9002Á´ØÂè£„ÄÇ 12&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"&gt;&lt;/script&gt;var socket = io('http://localhost:9002'); ÂÆûÁé∞ÈÄö‰ø° ÂêéÁ´ØÈÄöËøáÁõëÂê¨socket.io Êèê‰æõÁöÑ‰∫ã‰ª∂ÔºåÁõëÂê¨Áî®Êà∑ÁöÑÁä∂ÊÄÅ 123456789//Áî®Êà∑ËøûÊé•io.on('connection', function(socket)&#123; console.log('a user connected'); //Áî®Êà∑Êñ≠ÂºÄËøûÊé• socket.on('disconnect', function()&#123; console.log('user disconnected'); &#125;);&#125;); ÈÄöËøáÁõëÂê¨Ëá™ÂÆö‰πâ‰∫ã‰ª∂ÔºåÂÆûÁé∞ÈÄö‰ø° ÂâçÁ´ØÔºåÂÆö‰πâ‰∫ã‰ª∂ 1socket.emit('chat message', "hello world"); ÂêéÂè∞ÔºåÊçïËé∑‰∫ã‰ª∂ 123456io.on('connection', function(socket)&#123; //ÁõëÂê¨ÂâçÁ´Øchat message‰∫ã‰ª∂ÔºåÂ¶ÇÊûúËß¶ÂèëÔºåÂ∞±Âú®ÂêéÂè∞ÊâìÂç∞‰º†ÈÄíÁöÑmsg socket.on('chat message', function(msg)&#123; console.log('message: ' + msg); &#125;);&#125;); ÂπøÊí≠,ÂèØ‰ª•ÁªôÈô§‰∫ÜÊú¨‰∫∫Â§ñÁöÑÊâÄÊúâ‰∫∫ÂèëÈÄÅ‰∏ÄÊù°‰ø°ÊÅØ123io.on('connection'Ôºåfunction(socket) &#123; socket.broadcast.emit('hi'); &#125;); ok,Êñ∞ÊäÄËÉΩgetÔºÅÊí∏‰ª£Á†Å‰∫Üüò≠]]></content>
      <categories>
        <category>Node.js</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî® Hexo Êê≠Âª∫Â±û‰∫éËá™Â∑±ÁöÑÂçöÂÆ¢Ôºà‰∫åÔºâ]]></title>
    <url>%2F2018%2F10%2F05%2F%E4%BD%BF%E7%94%A8-Hexo-%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%BA%8C%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ËØ¥ÂÆûËØùÔºåÁ≥ªÁªüÊèê‰æõÁöÑ‰∏ªÈ¢òÁúãËµ∑Êù•ÁúüÁöÑ‰∏ëÔºåÊâæÊù•ÊâæÂéªÂèëÁé∞ÔºånextËøô‰∏™‰∏ªÈ¢òËøòÊòØÂèØ‰ª•ÁöÑÔºå‰ΩéË∞ÉÂ•¢ÂçéÊúâÂÜÖÊ∂µÔºåÂ∞±ÂæàÈÄÇÂêàÊàëËøôÁßçÈ´òÁ´ØÂ§ßÊ∞î‰∏äÊ°£Ê¨°ÁöÑboy„ÄÇÊé•‰∏ãÊù•ÊàëÂ∞±ËØ¥ËØ¥ÊÄé‰πà‰ΩøÁî®next‰∏ªÈ¢òÊâìÈÄ†‰∏Ä‰∏™ÁãÇÊãΩÁÇ´ÈÖ∑ÂêäÁÇ∏Â§©ÁöÑ‰∏™‰∫∫ÂçöÂÆ¢ÔºåÈ°∫‰æøpo‰∏Ä‰∏ãËá™Â∑±Âú®Êê≠Âª∫ËøáÁ®ã‰∏≠ÈÅáÂà∞‰∏Ä‰∫õÁöÑÈóÆÈ¢òÂíåÁà¨ÂùëËøáÁ®ã„ÄÇ nextÂÖ•Èó® ÂÆâË£Ö‰∏ªÈ¢ò Âú®hexoÊñá‰ª∂Â§πÁöÑÊ†πÁõÆÂΩï‰∏ãÔºå‰ΩøÁî®git ‰∏ãËΩΩÊúÄÊñ∞ÁöÑnext‰∏ªÈ¢ò git clone https://github.com/iissnan/hexo-theme-next themes/next ÂêØÁî®‰∏ªÈ¢òÔºåÂú®hexo ÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠Ôºå‰øÆÊîπÂ≠óÊÆµthemeÁöÑÂÄº‰∏∫next È™åËØÅ‰∏ªÈ¢òÔºåÂú®ÂëΩ‰ª§Ë°å‰∏≠ÊâßË°å‰∏ãÂàó‰ª£Á†ÅÔºåÂ¶ÇÊûúÊ≤°ÊúâÊä•ÈîôÔºåÂ∞±ÊåâÁÖßÊòæÁ§∫ÁöÑÂú∞ÂùÄÂú®Êú¨Âú∞Êü•ÁúãÂçöÂÆ¢Âêß„ÄÇ hexo s ËÆæÁΩÆ‰∏ªÈ¢ònext‰∏≠Êúâ4‰∏™‰∏ªÈ¢òÔºåÂèØ‰ª•ÈÄöËøáÈÄâÊã© Scheme Ôºå‰øÆÊîπnextÁöÑ‰∏ªÈ¢òÊ†∑ÂºèÔºå‰∏Ä‰∏™‰∏Ä‰∏™ÂéªËØïÂ∞±Â•Ω‰∫ÜÔºåÊàëËøòÊòØËßâÂæóPiscesÊØîËæÉÂπ≤ÂáÄ„ÄÇ ËÆæÁΩÆËØ≠Ë®ÄÁºñËæëhexoÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºå Â∞ÜÂ≠óÊÆµ language ËÆæÁΩÆÊàê‰Ω†ÊâÄÈúÄË¶ÅÁöÑËØ≠Ë®ÄÔºå‰øÆÊîπÂÆåÊàêÂêéÈúÄË¶ÅÈáçÊñ∞ÁºñËØëÈùôÊÄÅÊñá‰ª∂„ÄÇ‰π°‰∏ã‰∫∫Ëã±ËØ≠‰∏çÂ•ΩÔºåËøòÊòØÁÆÄ‰Ωì‰∏≠ÊñáÁúãÁùÄËàíÊúç„ÄÇ language: zh-Hans ÁõÆÂâç NexT ÊîØÊåÅÁöÑËØ≠Ë®ÄÂ¶Ç‰ª•‰∏ãË°®Ê†ºÊâÄÁ§∫Ôºö ËÆæÁΩÆËèúÂçïÁºñËæëhexoÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºå Â∞ÜÂ≠óÊÆµ menu‰∏ãÊâìÂºÄÈúÄË¶ÅÂ±ûÊÄß„ÄÇ||ÂâçÈù¢ÊòØÂØπÂ∫îÁöÑÈ°µÈù¢ÔºåÂêéÈù¢ÊòØiconÂ∞èÂõæÊ†áÂêçÁß∞Ôºå‰ΩøÁî®ÁöÑÊòØfontawesomeÂõæÊ†áÂ∫ìÔºåÁõ¥Êé•ÂéªfontawesomeÂÆòÁΩëÊâæÂêßÔºåÊääÂêçÂ≠óÂ§çÂà∂ËøáÊù•ÊõøÊç¢Âç≥ÂèØ„ÄÇ menu: home: / || home about: /about/ || user categories: /categories/ || th tags: /tags/ || tags archives: /archives/ || archive Êúâ‰∫õÊñ∞Âª∫ÁöÑËèúÂçïÈÄâÈ°πÂèØËÉΩÊ≤°ÊúâÊñá‰ª∂Â§πÔºåÂú®ÁÇπÂáªÊó∂‰ºöÊä•404È°µÈù¢ÔºåÈúÄË¶ÅÊâãÂä®ÂàõÂª∫Êñá‰ª∂Â§π„ÄÇÂèØ‰ª•Âú®hexoÊ†πÁõÆÂΩï‰∏ãÊâßË°å‰∏ãÂàóÂëΩ‰ª§ hexo new page ‚ÄúÁõÆÂΩïÂêçÁß∞‚Äù ËÆæÁΩÆÂ§¥ÂÉèÂíåÁΩëÁ´ôÁöÑfaviconÂõæÊ†áÁºñËæënextÊñá‰ª∂Â§π‰∏≠ÁöÑ‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂Ôºà_config.ymlÔºâÔºå ‰øÆÊîπÂ≠óÊÆµ avatarÂíåfaviconÔºå ÂÄºËÆæÁΩÆÊàêÂ§¥ÂÉèÁöÑÈìæÊé•Âú∞ÂùÄ„ÄÇÊàë‰∏ÄËà¨ÊääÂõæÁâáÊîæÂú®hexoÊ†πÁõÆÂΩïÁöÑsourceÊñá‰ª∂Â§π‰∏ãËá™Â∑±ÂàõÂª∫ÁöÑimageÊñá‰ª∂Â§π‰∏≠„ÄÇ ËÆæÁΩÆ‰æßËæπÊ†èÁ§æ‰∫§ÈìæÊé•ÂíåÊé®ËçêÈìæÊé•ÊâìÂºÄ‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂Ôºà_config.ymlÔºâÊêúÁ¥¢social_icons:,Âú®fontawesomeÂÆòÁΩëÊâæÂñúÊ¨¢ÁöÑÂ∞èÂõæÊ†áÔºåÂ∞ÜÂêçÂ≠óÂ§çÂà∂Âú®Â¶Ç‰∏ã‰ΩçÁΩÆ„ÄÇÊêúÁ¥¢linksÔºöÔºåÂú®ËøôÈáåÂèØ‰ª•Ê∑ªÂä†Êé®ËçêÈòÖËØªÁöÑÈìæÊé•ÔºåÂ¶Ç‰∏ãÂõæ nextËøõÈò∂ ÁΩëÁ´ôÂ∫ïÈÉ®Âä†‰∏äËÆøÈóÆÈáè ÊâìÂºÄ\themes\next\layout\_partials\footer.swigÊñá‰ª∂,Âú®copyrightÂâçÂä†‰∏äÁîªÁ∫¢Á∫øËøôÂè•ËØù ÁÑ∂ÂêéÂÜçÂêàÈÄÇÁöÑ‰ΩçÁΩÆÊ∑ªÂä†ÊòæÁ§∫ÁªüËÆ°ÁöÑ‰ª£Á†Å123456&lt;div class="powered-by"&gt; &lt;i class="fa fa-user-md"&gt;&lt;/i&gt; &lt;span id="busuanzi_container_site_uv"&gt; Êú¨Á´ôËÆøÂÆ¢Êï∞:&lt;span id="busuanzi_value_site_uv"&gt;&lt;/span&gt; &lt;/span&gt;&lt;/div&gt; Âú®ËøôÈáåÊúâ‰∏§‰∏≠‰∏çÂêåËÆ°ÁÆóÊñπÂºèÁöÑÁªüËÆ°‰ª£Á†ÅÔºö pvÁöÑÊñπÂºèÔºåÂçï‰∏™Áî®Êà∑ËøûÁª≠ÁÇπÂáªnÁØáÊñáÁ´†ÔºåËÆ∞ÂΩïnÊ¨°ËÆøÈóÆÈáè uvÁöÑÊñπÂºèÔºåÂçï‰∏™Áî®Êà∑ËøûÁª≠ÁÇπÂáªnÁØáÊñáÁ´†ÔºåÂè™ËÆ∞ÂΩï1Ê¨°ËÆøÂÆ¢Êï∞Ê≥®ÊÑèËøô‰∏™‰∏úË•øÂú®Êú¨Âú∞ÊúçÂä°Âô®‰∏äÁöÑÊï∞ÊçÆÈÉΩÊòØÂÅáÁöÑÔºåÂè™ÊúâÁ∫ø‰∏äÊúçÂä°Âô®ÊâçÊòØÁúüÂÆûÊï∞ÊçÆ„ÄÇÂºïÂÖ•ÁΩëÊòì‰∫ëÈü≥‰πê Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁΩëÊòì‰∫ëÊèê‰æõÁöÑÂ§ñÈìæÊí≠ÊîæÂô®ÔºåËÆ©Ëá™Â∑±ÁöÑÂçöÂÆ¢Ëá™Âä®Êí≠ÊîæÈü≥‰πê„ÄÇÂ∞Ü‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂ§çÂà∂Âà∞Ëá™Â∑±ÊÉ≥Ë¶ÅÊîæÁΩÆÊí≠ÊîæÂô®ÁöÑÂú∞Êñπ Ëøô‰∏™Êí≠ÊîæÂô®ÂèØ‰ª•ÊîæÂú®‰ªª‰ΩïÂú∞Êñπ„ÄÇÊàëÈÄâÊã©ÊîæÂú®‰æßËæπÊ†è‰∏≠„ÄÇ1234&lt;div id="music163player"&gt; &lt;iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=86 src="https://music.163.com/outchain/player?type=2&amp;id=38358214&amp;auto=0&amp;height=66"&gt; &lt;/iframe&gt;&lt;/div&gt; Ê≥®ÊÑè ËøôÈáåÂ§çÂà∂‰∏ãÊù•ÁöÑÂú∞ÂùÄ‰∏≠srcÊòØÊ≤°Êúâhttps:ÁöÑ ÈúÄË¶ÅËá™Â∑±Ê∑ªÂä†Ôºå‰∏çÁÑ∂Êó†Ê≥ïÁîüÊàêÊí≠ÊîæÂô®ÔºåËøô‰∏™ÂùëÊàëÁà¨‰∫Ü‰∏Ä‰∏™Êôö‰∏ä‚Ä¶ ÂÆûÁé∞ÁªüËÆ°ÂäüËÉΩ‰ΩøÁî®hexo-wordcountÊèí‰ª∂ÔºåÂÆûÁé∞ÂçöÂÆ¢Â≠óÊï∞ÂíåÈòÖËØªÊó∂Èó¥ÁöÑÁªüËÆ°Âú®hexoÊ†πÁõÆÂΩï‰∏ãÊâßË°å‰∏ãÂàóÂëΩ‰ª§ÔºåÂÆâË£ÖÊèí‰ª∂ npm install hexo-wordcount ‚Äìsave ÁÑ∂ÂêéÂú®‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊâæÂà∞post_wordcountÔºåÂ∞ÜÈúÄË¶ÅÁöÑ‰∏úË•øÊîπÊàêtrueÔºåÂç≥ÂèØÂÆûÁé∞ËØ•ÂäüËÉΩ„ÄÇ ÈòÖËØªÊ¨°Êï∞ÁªüËÆ°ÊàëÊòØ‰ΩøÁî®leancloudÊù•ÂÆûÁé∞ÈòÖËØªÊ¨°Êï∞ÁöÑÁªüËÆ°„ÄÇÈ¶ñÂÖàÈúÄË¶ÅÂéªleancloudÂÆòÁΩëÊ≥®ÂÜå‰∏Ä‰∏ãÊ≥®ÂÜåÂÆåÊàêÂêéÔºåËøõÂÖ•ÊéßÂà∂Âè∞ÔºåÁÇπÂáªÁÆ≠Â§¥ÊåáÂêëÁöÑ‰∏úË•øÂú®Â≠òÂÇ®‰∏≠ÂàõÂª∫‰∏Ä‰∏™Á±ª Counter ÂøÖÈ°ªÊòØËøô‰∏™ÂëΩÂêçÁÑ∂ÂêéËé∑ÂèñappidÂíåappkeyÂ∞ÜËøô‰∏§‰∏™ÂÄºÊîæÂà∞‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂‰∏≠leancloud_visitors‰∏ãÂØπÂ∫îÁöÑÂ≠óÊÆµ1234leancloud_visitors: enable: true app_id: yourapp_id app_key: yourapp_key ÊúÄÂêéÂú®ÂÆâÂÖ®‰∏≠ÂøÉ‰∏≠ÔºåËÆæÁΩÆWeb ÂÆâÂÖ®ÂüüÂêçÂêåÊ†∑Ëøô‰∏™Êï∞ÊçÆÂú®Êú¨Âú∞ÊòØÊó†Ê≥ïËÆ°ÁÆóÁöÑÔºåËÄå‰∏î‰ºöÊä•ÈîôÔºåÂè™Êúâ‰∏äÁ∫øÂêéÊâçËÉΩËÆ°ÁÆóÊØèÊ¨°ÊµèËßàÁöÑÊ¨°Êï∞„ÄÇ ËÆæÁΩÆËØÑËÆ∫ÂäüËÉΩÁΩë‰∏äÊúâ‰∏ÄÂ§ßÂ†ÜÂºÄÊ∫êÁöÑËØÑËÆ∫Êèí‰ª∂ÔºåÁ±ª‰ººÊù•ÂøÖÂäõ(Èü©ÂõΩÊ£íÂ≠êÂá∫ÂìÅÔºåËøô‰∏çÊäµÂà∂‰∏Ä‰∏ãÔºüÔºâ„ÄÅÁïÖË®Ä„ÄÅÂèãË®Ä„ÄÇÊúÄÂêéÂèëÁé∞‰∏äÈù¢‰∏Ä‰∏™leancloud‰πüÂèØ‰ª•Áî®Êù•ÂÅöËØÑËÆ∫ÔºåÂè™‰∏çËøáÈúÄË¶ÅÈÖçÂêàValine‰∏ÄËµ∑‰ΩøÁî®„ÄÇ ‰∏ãËΩΩÊúÄÊñ∞ÁöÑValine.min.jsÊ†∏ÂøÉ‰ª£Á†ÅÂ∫ìÂà∞Êú¨Âú∞ Â∞Ü‰∏ãËΩΩÂ•ΩÁöÑ Valine.min.js ÊîæÁΩÆ‰∫é next\source\js\src\‰∏ã ÊâìÂºÄvalineÈÖçÁΩÆÊñá‰ª∂ËøõË°åÈÖçÁΩÆ,valineÈÖçÁΩÆÊñá‰ª∂Ë∑ØÂæÑÔºönext\layout\_third-party\comments\valine.swig if theme.valine.enable and theme.valine.appid and theme.valine.appkey %&#125;123456789101112131415161718192021222324252627282930313233343536 &lt;script src=&quot;//cdn1.lncld.net/static/js/3.0.4/av-min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;//unjkp.com/valine/dist/Valine.min.js&quot;&gt;&lt;/script&gt; //Âà†Èô§ValineÊ†∏ÂøÉ‰ª£Á†ÅÂ∫ìÂ§ñÈìæË∞ÉÁî® &lt;script src=&quot;/js/src/Valine.min.js&quot;&gt;&lt;/script&gt; //Ë∞ÉÁî®Âàö‰∏ãËΩΩÁöÑÊú¨Âú∞Êñá‰ª∂‰ª•Âä†ÈÄüÂä†ËΩΩÈÄüÂ∫¶ &#123;% set valine_uri = &apos;/js/src/Valine.min.js&apos; %&#125; //ËøôÈáåÊîπ‰∏∫‰ªéÊú¨Âú∞Âä†ËΩΩ &#123;% if theme.vendors.valine %&#125; &#123;% set valine_uri = theme.vendors.valine %&#125; &#123;% endif %&#125; &lt;script src=&quot;&#123;&#123; valine_uri &#125;&#125;&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; var GUEST = [&apos;nick&apos;,&apos;mail&apos;,&apos;link&apos;]; var guest = &apos;&#123;&#123; theme.valine.guest_info &#125;&#125;&apos;; guest = guest.split(&apos;,&apos;).filter(function (item) &#123; return GUEST.indexOf(item)&gt;-1; &#125;); new Valine(&#123; el: &apos;#comments&apos; , verify: &#123;&#123; theme.valine.verify &#125;&#125;, notify: &#123;&#123; theme.valine.notify &#125;&#125;, appId: &apos;&#123;&#123; theme.valine.appid &#125;&#125;&apos;, appKey: &apos;&#123;&#123; theme.valine.appkey &#125;&#125;&apos;, placeholder: &apos;&#123;&#123; theme.valine.placeholder &#125;&#125;&apos;, avatar:&apos;&#123;&#123; theme.valine.avatar &#125;&#125;&apos;, guest_info:[&apos;nick&apos;] , //ËØÑËÆ∫ËÄÖÂè™ÈúÄË¶ÅÊèê‰æõËØÑËÆ∫ÁöÑÊòµÁß∞Âç≥ÂèØ pageSize:&apos;&#123;&#123; theme.valine.pageSize &#125;&#125;&apos; || 10, &#125;); //Â¢ûÂä†‰ª•‰∏ãÂÖ≠Ë°å‰ª£Á†ÅÂéªÈô§ power by valine var infoEle = document.querySelector(&apos;#comments .info&apos;); if (infoEle &amp;&amp; infoEle.childNodes &amp;&amp; infoEle.childNodes.length &gt; 0)&#123; infoEle.childNodes.forEach(function(item) &#123; item.parentNode.removeChild(item); &#125;); &#125; &lt;/script&gt;&#123;% endif %&#125; ÁÑ∂ÂêéÂéª‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂‰∏≠ËøõË°å‰øÆÊîπÔºå‰∏ãÈù¢ÊòØÊàëÁöÑÈÖçÁΩÆ 12345678910111213# Valine.# You can get your appid and appkey from https://leancloud.cn# more info please open https://valine.js.orgvaline: enable: true //ÊâìÂºÄvalineËØÑËÆ∫ÂäüËÉΩ appid: ‰Ω†ÁöÑleancloud appid appkey: ‰Ω†ÁöÑleancloud appkey notify: false //ÈÇÆ‰ª∂ÊèêÈÜí verify: true //ËØÑËÆ∫Êó∂ÊòØÂê¶ÊúâÈ™åËØÅÁ†ÅÔºåÈúÄË¶ÅÂú®Leancloud ËÆæÁΩÆ-&gt;ÂÆâÂÖ®‰∏≠ÂøÉ ‰∏≠ÊâìÂºÄ placeholder: ËØ¥ÁÇπ‰ªÄ‰πàÂêßÔºÅ //ËØÑËÆ∫Ê°ÜÈªòËÆ§ÊòæÁ§∫ avatar: hide //ËØÑËÆ∫ËÄÖÁöÑÂ§¥ÂÉè,ÊàëËøôÈáåËÆæÁΩÆÁöÑ‰∏çÊòæÁ§∫ guest_info: nick # custom comment header pageSize: 10 # pagination size ‰∏ãÈù¢ÊòØÊïàÊûúÂõæ ‰∏∫ÂçöÂÆ¢Âä†‰∏äËêåËêåÁöÑÂÆ†Áâ©Ëøô‰∏™‰πüÊòØÂú®ÊâæËµÑÊñôÁöÑÊó∂ÂÄôÂèëÁé∞ÁöÑÔºåËôΩÁÑ∂ÂæàÂ•ΩÁúãÔºå‰ΩÜÊòØË∑üÈÇ£‰∏™canvasËÉåÊôØÂõæ‰∏ÄÊ†∑ÔºåÊúâÁÇπÂç†ËµÑÊ∫êÔºåÂèØËÉΩ‰ºöÂØºËá¥ÁΩëÁ´ôÊâìÂºÄÊúâÁÇπÊÖ¢„ÄÇ‰∏ãÈù¢ÊòØËÆæÁΩÆÊñπÊ≥ï„ÄÇ Âú®hexoÊ†πÁõÆÂΩï‰∏ãÂÆâË£ÖÊèí‰ª∂ npm install -save hexo-helper-live2d ÂÆ†Áâ©Ê†∑ÂºèÂàóË°®ÔºåÈÄâÊã©‰Ω†ÂñúÊ¨¢ÁöÑËêåÂ¶πÂ≠êÊàñËÄÖÂ∞èÂä®Áâ©ÔºåÁÑ∂ÂêéÂÆâË£Ö„ÄÇ npm install live2d-widget-model-‚ÄúÂÆ†Áâ©‰ª£Á†Å‚Äù Âú®hexoÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê∑ªÂä†‰∏ãÂàóÈÖçÁΩÆ1234567891011live2d: enable: true scriptFrom: local model: use: live2d-widget-model-z16 display: position: right width: 100 height: 150 mobile: show: true ÊàëËøô‰∏™Âú®Êú¨Âú∞ËøêË°åÂ•ΩÂÉè‰∏çÊòØÂæàÊµÅÁïÖÔºåÂª∫ËÆÆÊäämobileËÆæÁΩÆ‰∏∫falseÔºåÂõ†‰∏∫ÊâãÊú∫‰∏äÁúüÁöÑÂ•ΩÂç†‰ΩçÁΩÆ„ÄÇ„ÄÇ„ÄÇ‰∏ãÈù¢ÊòØÊïàÊûúÂõæÂà´ÈóÆÊàë‰∏∫Âï•ÈÄâËøô‰∏™ÔºåËÄÅÂ≠êÊôïÂ•∂ÔºÅÔºÅÔºÅ Â•Ω‰∫ÜÔºåÊöÇÊó∂ÂÜôËøô‰πàÂ§öÂêßÔºåÊÑüËßâËøòÊúâÂ•ΩÂ§öÂùëÊ≤°ÊúâÂÜôËøõÊù•„ÄÇÂÜôÂÆå‰∫ÜËøòÊòØËõÆÊúâÊàêÂ∞±ÊÑüÁöÑÔºåËá≥Â∞ëÂØπÂæóËµ∑Êéâ‰∏ãÁöÑËøô‰πàÂ§öÂ§¥Âèë‰∫Ü„ÄÇ„ÄÇ„ÄÇ]]></content>
      <categories>
        <category>Hexo Êê≠Âª∫ÂçöÂÆ¢</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî® Hexo Êê≠Âª∫Â±û‰∫éËá™Â∑±ÁöÑÂçöÂÆ¢Ôºà‰∏ÄÔºâ]]></title>
    <url>%2F2018%2F09%2F30%2F%E4%BD%BF%E7%94%A8%20Hexo%20%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂøÉË°ÄÊù•ÊΩÆÔºåÁ™ÅÁÑ∂ÊÉ≥Êêû‰∏Ä‰∏™Ëá™Â∑±ÁöÑÂçöÂÆ¢ÔºåËôΩÁÑ∂ÂæàÊó©‰πãÂâçÊåâÂ∞±Âú®ÂçöÂÆ¢Âõ≠‰∏äÊ≥®ÂÜåËøáÔºåÊÄªÊÑüËßâÊúâÈÇ£‰πà‰∏Ä‰∏¢‰∏¢low„ÄÇÁΩë‰∏äÊü•‰∫ÜÊü•ÔºåÂèëÁé∞WordpresshÂíåHexoÈÉΩËøòË°åÔºåÈÉΩÊîØÊåÅÂÆâË£ÖËá™ÂÆö‰πâ‰∏ªÈ¢ò„ÄÇWordpressÈúÄË¶ÅÊú¨Âú∞ÁöÑÊï∞ÊçÆÂ∫ìÂíåÊîØÊåÅÂêéÂè∞Êìç‰ΩúÔºåÁõ∏ÊØîËæÉ‰∏ãHexoÊõ¥Âä†ËΩªÈáèÁ∫ßÔºåÈÇ£Â∞±Ëøô‰πàÊÑâÂø´ÁöÑÂÜ≥ÂÆö‰∫ÜÔºålet‚Äôs get itÔºÅ ÂáÜÂ§áÂ∑•‰Ωú ÂÆâË£ÖNode.jsÂíåÈÖçÁΩÆÂ•ΩNode.jsÁéØÂ¢É„ÄÇ ÂÆâË£ÖGitÂíåÈÖçÁΩÆÂ•ΩGitÁéØÂ¢É„ÄÇ Áî≥ËØ∑githubË¥¶Âè∑ÔºåÂêéÈù¢ÈúÄË¶ÅÂ∞ÜÈ°πÁõÆ‰∏ä‰º†Ëá≥github‰∏äÔºå‰ΩøÁî®ÂÆÉÁöÑÊúçÂä°Âô®‰∏äÁ∫ø„ÄÇ ÂÆâË£ÖHexo ÂÖ®Â±ÄÂÆâË£ÖHexoÔºåÂú®Ëá™Â∑±ËÆ§‰∏∫ÂêàÈÄÇÁöÑÂú∞ÊñπÂàõ‰∏™Êñá‰ª∂Â§πÔºåÂú®Ëøô‰∏™Êñá‰ª∂Â§πÁõÆÂΩï‰∏ãÊâìÂºÄÂëΩ‰ª§Ë°åÔºåÊâßË°å‰∏ãÂàó‰ª£Á†Å„ÄÇ 1npm install hexo -g Ê£ÄÊü•hexoÊòØÂê¶ÂÆâË£ÖÊàêÂäüÔºåÂ¶ÇÊûúÂá∫ÂÖ•‰∏ÄÂ§ßÂ†ÜÁâàÊú¨Âè∑ÔºåÂ∞±ÊòØÊàêÂäü‰∫Ü„ÄÇ 1hexo -v Âú®ËØ•Êñá‰ª∂Â§π‰∏ãÂàùÂßãÂåñhexo 1hexo init ÁúãÂà∞ÂêéÈù¢ÁöÑ‚ÄúStart blogging with HexoÔºÅ‚ÄùÔºåÂ∞±‰ª£Ë°®ÊàêÂäüÂíßÔºåÊøÄ‰∏çÊøÄÂä®ÂôªÔºÅ ÂÆâË£ÖhexoËøêË°åÊâÄÈúÄË¶ÅÁöÑÁªÑÂª∫ÔºåÂª∫ËÆÆÂú®ÁΩëÁªúÂ•ΩÁöÑÊÉÖÂÜµ‰∏ãËøõË°åÔºå‰∏çÁÑ∂‰∏¢ÂåÖÂá∫ÈîôÁúüÁöÑ‰∏çÂ•ΩÊü•„ÄÇ„ÄÇ„ÄÇ 1npm install ÁºñËæëÈùôÊÄÅÊñá‰ª∂ÔºåÊâã‰∏çË¶ÅË¥±ÔºåÁ≠âÁùÄÂ∞±Ë°å„ÄÇ 1hexo g ÂêØÂä®hexoÊú¨Âú∞ÊúçÂä°Âô®ÔºåÊ†πÊçÆÊèêÁ§∫Âú®ÊµèËßàÂô®‰∏≠ËæìÂÖ•ÁΩëÂùÄ„ÄÇ 1hexo s Â¶ÇÊûúÁ´ØÂè£Âè∑Ë¢´Âç†Áî®ÔºåÊâßË°å‰∏ãÂàó‰ª£Á†Å1hexo server -p Á´ØÂè£Âè∑ Â¶ÇÊûúÂá∫Áé∞‰∏ãÂõæÂ∞±‰ª£Ë°®ÊàêÂäü‰∫Ü ÂÖ≥ËÅîgithub Á°Æ‰øùËá™Â∑±‰ΩøÁî®ÁöÑÁîµËÑëÂ∑≤ÁªèÊúâÁîüÊàêÂÖ¨Èí•ÂíåÂØÜÈí•ÔºåÂπ∂‰∏îÂú®github‰∏äÂ∑≤ÁªèËÆæÁΩÆÂ•Ω„ÄÇÊµãËØïËøûÊé•‰ª£Á†ÅÂ¶Ç‰∏ã„ÄÇ 1ssh -T git@github.com Âú®github‰∏äÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ‰ªìÂ∫ìÔºåÈ°πÁõÆÂøÖÈ°ªË¶ÅÈÅµÂÆàÊ†ºÂºèÔºöË¥¶Êà∑Âêç.github.ioÔºå‰∏çÁÑ∂‰∏çËÉΩ‰ΩøÁî®ÂÆÉÊú¨Ë∫´Êèê‰æõÁöÑÊúçÂä°Âô®„ÄÇ ÈÖçÁΩÆDeployment,Âú®Ê†πÁõÆÂΩï‰∏ãÊâæÂà∞_config.ymlÊñá‰ª∂,‰øÆÊîπdeployÔºå‰∏ÄËà¨Âú®Êñá‰ª∂ÁöÑÊúÄÂêéÈù¢„ÄÇrepositoryÂêéÈù¢ÊîπÊàêËá™Â∑±‰ªìÂ∫ìÁöÑSSHÈìæÊé•Âú∞ÂùÄ„ÄÇ 1234deploy: type: git repository: git@github.com:hzy1735/hzy1735.github.io.git branch: master ÂÆâË£Ö‰∏Ä‰∏™Ê®°ÂùóÔºåÁî®Êù•ËøõË°åËá™Âä®ÊâìÂåÖÊèê‰∫§„ÄÇ 1npm install hexo-deployer-git --save Âà∂ÂÆöÊâìÂåÖÊèê‰∫§ÂëΩ‰ª§ 1hexo d -g Â¶ÇÊûúÊ≤°ÊúâerrorÔºåÂ∞±ÊòØÈÉ®ÁΩ≤ÊàêÂäü‰∫ÜÔºåËæìÂÖ•http://Áî®Êà∑Âêç.github.ioÔºåÂç≥ÂèØÊµèËßàËá™Â∑±ÁöÑÂçöÂÆ¢‰∫Ü ÁºñÂÜôÂçöÂÆ¢ Âú®Ê†πÁõÆÂΩï‰∏ãÔºåÂëΩ‰ª§Ë°å‰∏≠ËæìÂÖ•‰∏ãÂàó‰ª£Á†ÅÔºåËá™Âä®ÂàõÂª∫‰∏Ä‰∏™ÂêéÁºÄ‰∏∫mdÁöÑÊñá‰ª∂ 1hexo new post ‚ÄúÂçöÂÆ¢Âêç‚Äù Áî±‰∫éHexoÁöÑÂçöÂÆ¢ÈÉΩÊòØmdÊñá‰ª∂ÔºåÊâÄ‰ª•ÈúÄË¶ÅÂ≠¶‰∏Ä‰∏ãmdÁöÑËØ≠Ê≥ïÔºåÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºåËá™Ë°åÁôæÂ∫¶ÂéªÂêß„ÄÇÊàëÊòØÁî®vscodeÁºñÂÜôÁöÑÔºåÂÆâË£Ö‰∏Ä‰∏™Markdown Preview EnhancedÊèí‰ª∂ÔºåÂ∞±ÂèØ‰ª•È¢ÑËßàÂÜôÂá∫Êù•ÁöÑ‰∏úË•øÔºåvscodeÁúüÁâõÈÄºÔºÅÔºÅÔºÅ ÁºñÂÜôÂÆåÊàêÂêéÔºåÂú®ÊâßË°åÊâìÂåÖÊèê‰∫§‰ª£Á†ÅÔºåÂ∞±ËÉΩÂØπÁ∫ø‰∏äÁöÑÂçöÂÆ¢ËøõË°åÊõ¥Êñ∞‰∫Ü„ÄÇ1hexo d -g ‰ª•‰∏äÂ∞±ÊòØÂÆâË£ÖhexoÂíå‰∏äÁ∫øÁöÑÊìç‰ΩúÂíØÔºåÊé•‰∏ãÊù•ËøòÊúâÊõ¥È´òÁ∫ßÁöÑÊìç‰ΩúÂíß„ÄÇ]]></content>
      <categories>
        <category>Hexo Êê≠Âª∫ÂçöÂÆ¢</category>
      </categories>
  </entry>
</search>
